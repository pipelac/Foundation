
[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 1: Инициализация WebtExtractor[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mЛоггер успешно создан
[32m✓ PASS: [0mИнициализация с настройками по умолчанию
[32m✓ PASS: [0mИнициализация с пользовательскими параметрами
[32m✓ PASS: [0mИнициализация без логгера
[32m✓ PASS: [0mИнициализация с отключением извлечения дополнительных данных

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 2: Извлечение контента из HTML[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mИзвлечение из полного HTML - все обязательные поля присутствуют
[33mℹ INFO: [0mURL: https://example.com/articles/test
[33mℹ INFO: [0mЗаголовок: Тестовая статья о веб-технологиях
[33mℹ INFO: [0mАвтор: Иван Иванов
[33mℹ INFO: [0mЯзык: ru
[33mℹ INFO: [0mКоличество слов: 151
[33mℹ INFO: [0mВремя чтения: 1 мин
[33mℹ INFO: [0mКоличество изображений: 3
[33mℹ INFO: [0mКоличество ссылок: 5
[32m✓ PASS: [0mЗаголовок извлечен: Тестовая статья о веб-технологиях
[32m✓ PASS: [0mТекстовый контент извлечен (длина: 1226 символов)
[32m✓ PASS: [0mПодсчет слов работает: 151 слов
[32m✓ PASS: [0mРасчет времени чтения работает: 1 мин
[32m✓ PASS: [0mЯзык определен правильно: ru

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 3: Извлечение изображений[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mИзображения извлечены: 3 шт.
[33mℹ INFO: [0m  [1] src: https://example.com/images/main-image.jpg, alt: Главное изображение статьи, width: 800, height: 600
[33mℹ INFO: [0m  [2] src: https://example.com/images/local-image.jpg, alt: Локальное изображение, width: 400, height: 300
[33mℹ INFO: [0m  [3] src: https://cdn.example.com/image.png, alt: CDN изображение, width: не указано, height: не указано
[32m✓ PASS: [0mОтносительные URL изображений преобразованы в абсолютные

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 4: Извлечение ссылок[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mСсылки извлечены: 5 шт.
[33mℹ INFO: [0m  [1] href: https://example.com/, text: Главная
[33mℹ INFO: [0m  [2] href: https://example.com/about, text: О нас
[33mℹ INFO: [0m  [3] href: https://php.net, text: PHP Documentation
[33mℹ INFO: [0m  [4] href: https://github.com, text: GitHub
[33mℹ INFO: [0m  [5] href: https://example.com/tutorials/web-scraping, text: Руководство по веб-скрейпингу
[32m✓ PASS: [0mЯкорные ссылки правильно отфильтрованы
[32m✓ PASS: [0mJavaScript ссылки правильно отфильтрованы

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 5: Извлечение метаданных[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mOpen Graph метаданные извлечены: 5 полей
[33mℹ INFO: [0m  og:title: Тестовая статья о веб-технологиях
[33mℹ INFO: [0m  og:description: Подробное описание для социальных сетей
[33mℹ INFO: [0m  og:image: https://example.com/images/og-image.jpg
[33mℹ INFO: [0m  og:url: https://example.com/articles/test
[33mℹ INFO: [0m  og:type: article
[32m✓ PASS: [0mTwitter Card метаданные извлечены: 4 полей
[33mℹ INFO: [0m  twitter:card: summary_large_image
[33mℹ INFO: [0m  twitter:title: Тестовая статья о веб-технологиях
[33mℹ INFO: [0m  twitter:description: Описание для Twitter
[33mℹ INFO: [0m  twitter:image: https://example.com/images/twitter-image.jpg
[32m✓ PASS: [0mJSON-LD метаданные извлечены: 1 блоков
[33mℹ INFO: [0m  [1] @type: Article
[32m✓ PASS: [0mОбычные meta теги извлечены: 4 полей

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 6: Определение языка контента[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mРусский язык определен правильно
[32m✓ PASS: [0mАнглийский язык определен правильно

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 7: Валидация входных данных[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mПустой URL правильно отклонен: HTML контент слишком короткий (минимум 100 байт)
[32m✓ PASS: [0mНекорректный URL правильно отклонен: HTML контент слишком короткий (минимум 100 байт)
[32m✓ PASS: [0mFTP протокол правильно отклонен: HTML контент слишком короткий (минимум 100 байт)
[32m✓ PASS: [0mПустой HTML правильно отклонен: HTML контент не может быть пустым
[32m✓ PASS: [0mСлишком короткий HTML правильно отклонен: HTML контент слишком короткий (минимум 100 байт)

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 8: Извлечение минимального контента[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mМинимальный HTML успешно обработан
[33mℹ INFO: [0mЗаголовок: Минимальная статья
[33mℹ INFO: [0mКоличество слов: 48

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 9: Извлечение с отключенными опциями[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mИзвлечение изображений отключено корректно
[32m✓ PASS: [0mИзвлечение ссылок отключено корректно
[32m✓ PASS: [0mИзвлечение метаданных отключено корректно

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 10: Пакетное извлечение контента[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[33mℹ INFO: [0mТест пакетного извлечения пропущен - требуются реальные URL
[33mℹ INFO: [0mМетод extractBatch() будет протестирован в интеграционных тестах

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 11: Проверка логирования[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mЛог-файл создан: webextractor_test.log
[33mℹ INFO: [0mЗаписей в логе: 89
[32m✓ PASS: [0mЛогирование работает корректно
[32m✓ PASS: [0mИнициализация залогирована
[32m✓ PASS: [0mОперации парсинга залогированы
[32m✓ PASS: [0mОшибки и предупреждения залогированы

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 12: Обработка ошибок парсинга[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mHTML без читаемого контента правильно отклонен: HTML контент слишком короткий (минимум 100 байт)

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 13: Работа без логгера[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mИзвлечение работает корректно без логгера

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ТЕСТ 14: Краевые случаи[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

[32m✓ PASS: [0mДлинный текст обработан корректно: 5001 слов, 23 мин чтения
[32m✓ PASS: [0mКодировка обработана корректно, кириллица сохранена
[32m✓ PASS: [0mURL 'https://example.com/page' принят корректно
[32m✓ PASS: [0mURL 'http://example.com/page' принят корректно

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ИТОГИ ТЕСТИРОВАНИЯ[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

Всего тестов: [36m42[0m
Успешно:      [32m42[0m
Провалено:    [31m0[0m
Процент успеха: [32m100%[0m

[34m═══════════════════════════════════════════════════════════════════════[0m
[36m  ПРИМЕРЫ ИЗ ЛОГ-ФАЙЛА[0m
[34m═══════════════════════════════════════════════════════════════════════[0m

2025-10-30T18:50:48+00:00 INFO WebtExtractor инициализирован {"timeout":30,"connect_timeout":10,"max_size":10485760,"retries":3,"proxy_enabled":false}
2025-10-30T18:50:48+00:00 INFO WebtExtractor инициализирован {"timeout":20,"connect_timeout":5,"max_size":5242880,"retries":2,"proxy_enabled":false}
2025-10-30T18:50:48+00:00 INFO WebtExtractor инициализирован {"timeout":30,"connect_timeout":10,"max_size":10485760,"retries":3,"proxy_enabled":false}
2025-10-30T18:50:48+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/articles/test","html_size":5746}
2025-10-30T18:50:48+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/ru","html_size":5746}
2025-10-30T18:50:48+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/en","html_size":590}
2025-10-30T18:50:48+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/minimal","html_size":393}
2025-10-30T18:50:48+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com","html_size":5746}
2025-10-30T18:50:48+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/long","html_size":64588}
2025-10-30T18:50:48+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/encoding","html_size":5746}
2025-10-30T18:50:48+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/page","html_size":393}
2025-10-30T18:50:55+00:00 INFO WebtExtractor инициализирован {"timeout":30,"connect_timeout":10,"max_size":10485760,"retries":3,"proxy_enabled":false}
2025-10-30T18:50:55+00:00 INFO WebtExtractor инициализирован {"timeout":20,"connect_timeout":5,"max_size":5242880,"retries":2,"proxy_enabled":false}
2025-10-30T18:50:55+00:00 INFO WebtExtractor инициализирован {"timeout":30,"connect_timeout":10,"max_size":10485760,"retries":3,"proxy_enabled":false}
2025-10-30T18:50:55+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/articles/test","html_size":5746}
2025-10-30T18:50:55+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/ru","html_size":5746}
2025-10-30T18:50:55+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/en","html_size":590}
2025-10-30T18:50:55+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/minimal","html_size":393}
2025-10-30T18:50:55+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com","html_size":5746}
2025-10-30T18:50:55+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/long","html_size":64588}
2025-10-30T18:50:55+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/encoding","html_size":5746}
2025-10-30T18:50:55+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/page","html_size":393}
2025-10-30T18:52:03+00:00 INFO WebtExtractor инициализирован {"timeout":30,"connect_timeout":10,"max_size":10485760,"retries":3,"proxy_enabled":false}
2025-10-30T18:52:03+00:00 INFO WebtExtractor инициализирован {"timeout":20,"connect_timeout":5,"max_size":5242880,"retries":2,"proxy_enabled":false}
2025-10-30T18:52:03+00:00 INFO WebtExtractor инициализирован {"timeout":30,"connect_timeout":10,"max_size":10485760,"retries":3,"proxy_enabled":false}
2025-10-30T18:52:03+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/articles/test","html_size":5746}
2025-10-30T18:52:03+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/ru","html_size":5746}
2025-10-30T18:52:03+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/en","html_size":590}
2025-10-30T18:52:03+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com/minimal","html_size":939}
2025-10-30T18:52:03+00:00 DEBUG Начало парсинга HTML {"url":"https://example.com","html_size":5746}
[33m... и еще 64 строк в лог-файле[0m

[36mПолный лог доступен в: /home/engine/project/logs_webextractor_test/webextractor_test.log[0m

