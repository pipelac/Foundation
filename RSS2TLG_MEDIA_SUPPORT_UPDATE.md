# üì∏ RSS2TLG - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–¥–∏–∞ –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—è—Ö

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-02  
**–í–µ—Ä—Å–∏—è:** 1.1  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## üéØ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å **–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ** –≤ Telegram –∫–∞–Ω–∞–ª –≤–º–µ—Å—Ç–µ —Å —Ç–µ–∫—Å—Ç–æ–º –Ω–æ–≤–æ—Å—Ç–∏.

---

## üìã –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –º–µ–¥–∏–∞

–ú–µ–¥–∏–∞-—Ä–µ—Å—É—Ä—Å—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ **—Ç—Ä—ë—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):

### 1. RSS Enclosures (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
```xml
<enclosure url="https://example.com/image.jpg" type="image/jpeg"/>
<enclosure url="https://example.com/video.mp4" type="video/mp4"/>
```
- ‚úÖ –§–æ—Ç–æ: `image/*` MIME types
- ‚úÖ –í–∏–¥–µ–æ: `video/*` MIME types
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ (—É–∫–∞–∑–∞–Ω–æ –∏–∑–¥–∞—Ç–µ–ª–µ–º)

### 2. Extracted Images (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ **WebExtractor** –∏–∑ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
- ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
- ‚úÖ Open Graph images (`og:image`)
- ‚úÖ Twitter Card images
- ‚úÖ Featured images

### 3. Content Images (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ —Ç–µ–ª–∞ —Å—Ç–∞—Ç—å–∏ (–µ—Å–ª–∏ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)

---

## üé¨ –õ–æ–≥–∏–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

```
1. –°–æ–±–∏—Ä–∞–µ–º –º–µ–¥–∏–∞ –∏–∑ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
   ‚îú‚îÄ‚îÄ RSS enclosures ‚Üí –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
   ‚îú‚îÄ‚îÄ Extracted images ‚Üí –µ—Å–ª–∏ –Ω–µ—Ç enclosures
   ‚îî‚îÄ‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è URL

2. –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
   ‚îú‚îÄ‚îÄ üì∑ –ï—Å—Ç—å —Ñ–æ—Ç–æ ‚Üí sendPhoto (1 —Ñ–æ—Ç–æ) –∏–ª–∏ sendMediaGroup (2-10 —Ñ–æ—Ç–æ)
   ‚îú‚îÄ‚îÄ üé• –ï—Å—Ç—å –≤–∏–¥–µ–æ ‚Üí sendVideo
   ‚îî‚îÄ‚îÄ üìù –ù–µ—Ç –º–µ–¥–∏–∞ ‚Üí sendMessage

3. –§–æ—Ä–º–∏—Ä—É–µ–º caption/text:
   ‚îú‚îÄ‚îÄ [–ù–∞–∑–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞] (bold)
   ‚îú‚îÄ‚îÄ [–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏] (bold)
   ‚îú‚îÄ‚îÄ [–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏] (–¥–æ 500 —Å–ª–æ–≤)
   ‚îî‚îÄ‚îÄ –õ–∏–º–∏—Ç: 1024 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è caption, 4096 –¥–ª—è text

4. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å fallback:
   ‚îú‚îÄ‚îÄ –ü—Ä–æ–±—É–µ–º —Å –º–µ–¥–∏–∞
   ‚îú‚îÄ‚îÄ –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç
   ‚îî‚îÄ‚îÄ –õ–æ–≥–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

---

## üì∏ –¢–∏–ø—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–π

### 1. –û–¥–Ω–æ —Ñ–æ—Ç–æ
```php
sendPhoto($channelId, $photoUrl, [
    'caption' => $message,
    'parse_mode' => 'HTML'
])
```
**–ü—Ä–∏–º–µ—Ä:**
```
[–§–æ—Ç–æ]
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Habr - PHP

–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ PHP 8.3

–†–µ–ª–∏–∑ PHP 8.3 –ø—Ä–∏–Ω—ë—Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —É–ª—É—á—à–µ–Ω–∏–π...
```

### 2. –ù–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ç–æ (2-10)
```php
// –ü–µ—Ä–≤–æ–µ —Ñ–æ—Ç–æ —Å caption
sendPhoto($channelId, $photos[0], ['caption' => $message])

// –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ –±–µ–∑ caption
foreach ($photos[1-9]) {
    sendPhoto($channelId, $photo)
}
```
**–ü—Ä–∏–º–µ—Ä:**
```
[–§–æ—Ç–æ 1 —Å —Ç–µ–∫—Å—Ç–æ–º]
[–§–æ—Ç–æ 2]
[–§–æ—Ç–æ 3]
[–§–æ—Ç–æ 4]
```

### 3. –í–∏–¥–µ–æ
```php
sendVideo($channelId, $videoUrl, [
    'caption' => $message,
    'parse_mode' => 'HTML'
])
```

### 4. –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç (–±–µ–∑ –º–µ–¥–∏–∞)
```php
sendMessage($channelId, $message, [
    'parse_mode' => 'HTML',
    'disable_web_page_preview' => true
])
```

---

## üîç –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–§—É–Ω–∫—Ü–∏—è `isValidImageUrl()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

1. **–ê–±—Å–æ–ª—é—Ç–Ω—ã–π URL:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `http://` –∏–ª–∏ `https://`
2. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞:** `.jpg`, `.jpeg`, `.png`, `.gif`, `.webp`
3. **–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ URL:** `image`, `photo`

**–ü—Ä–∏–º–µ—Ä—ã –≤–∞–ª–∏–¥–Ω—ã—Ö URL:**
```
‚úÖ https://example.com/image.jpg
‚úÖ https://cdn.example.com/photos/12345.png
‚úÖ https://api.example.com/image?id=123
‚úÖ https://example.com/photo_large.webp
```

**–ü—Ä–∏–º–µ—Ä—ã –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö URL:**
```
‚ùå /relative/path/image.jpg (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π)
‚ùå https://example.com/file.pdf (–Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
‚ùå data:image/png;base64,... (data URI)
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ–¥–∏–∞

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä—É–µ—Ç:
- üì∑ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ
- üé• –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –º–µ–¥–∏–∞
- ‚ö†Ô∏è  –û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –º–µ–¥–∏–∞
- üîÑ Fallback –Ω–∞ —Ç–µ–∫—Å—Ç –±–µ–∑ –º–µ–¥–∏–∞

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
    üì∑ –§–æ—Ç–æ –∏–∑ RSS enclosure: https://example.com/image1.jpg
    üì∑ –§–æ—Ç–æ –∏–∑–≤–ª–µ—á–µ–Ω–æ: https://example.com/image2.png
    –ù–∞–π–¥–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 2
    üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ 2 —Ñ–æ—Ç–æ –≥—Ä—É–ø–ø–æ–π
    ‚úì –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –≤ –∫–∞–Ω–∞–ª (message_id: 228)
```

---

## üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### Graceful Degradation
–ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–¥–∏–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç **fallback –Ω–∞ —Ç–µ–∫—Å—Ç**:

```php
try {
    // –ü—Ä–æ–±—É–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å —Ñ–æ—Ç–æ
    return sendPhoto($photo, $caption);
} catch (Exception $e) {
    // –û—à–∏–±–∫–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç
    return sendMessage($caption);
}
```

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| `Bad Request: wrong file identifier/HTTP URL` | –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | Fallback –Ω–∞ —Ç–µ–∫—Å—Ç |
| `Request Entity Too Large` | –§–∞–π–ª > 10MB | –ü—Ä–æ–ø—É—Å–∫–∞–µ–º, –±–µ—Ä—ë–º —Å–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ |
| `Bad Request: failed to get HTTP URL content` | –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω | Fallback –Ω–∞ —Ç–µ–∫—Å—Ç |
| `Bad Request: wrong type of the web page content` | –ù–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (HTML) | –ü—Ä–æ–ø—É—Å–∫–∞–µ–º URL |

---

## üé® –§–æ—Ä–º–∞—Ç caption/text

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
```html
<b>[–ù–∞–∑–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞]</b>

<b>[–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏]</b>

[–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏ –¥–æ 500 —Å–ª–æ–≤]

<i>–¢–µ–∫—Å—Ç –æ–±—Ä–µ–∑–∞–Ω. –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç—å—è —Å–æ–¥–µ—Ä–∂–∏—Ç XXX —Å–ª–æ–≤.</i>
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Telegram
- **Caption (–¥–ª—è –º–µ–¥–∏–∞):** 1024 —Å–∏–º–≤–æ–ª–∞
- **Text (–±–µ–∑ –º–µ–¥–∏–∞):** 4096 —Å–∏–º–≤–æ–ª–æ–≤
- **–§–æ—Ç–æ –≤ –≥—Ä—É–ø–ø–µ:** –î–æ 10 —à—Ç—É–∫
- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** –î–æ 10MB –¥–ª—è —Ñ–æ—Ç–æ, –¥–æ 50MB –¥–ª—è –≤–∏–¥–µ–æ

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏–º–µ—Ä 1: –ù–æ–≤–æ—Å—Ç—å —Å –æ–¥–Ω–∏–º —Ñ–æ—Ç–æ
```
–ò—Å—Ç–æ—á–Ω–∏–∫: TechCrunch - Startups
URL —Ñ–æ—Ç–æ: https://techcrunch.com/wp-content/uploads/2025/01/startup.jpg

‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞: sendPhoto —Å caption
‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: 1 —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ñ–æ—Ç–æ –∏ —Ç–µ–∫—Å—Ç–æ–º
```

### –ü—Ä–∏–º–µ—Ä 2: –ù–æ–≤–æ—Å—Ç—å —Å –≥–∞–ª–µ—Ä–µ–µ–π
```
–ò—Å—Ç–æ—á–Ω–∏–∫: The Verge
–§–æ—Ç–æ: 5 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ —Å—Ç–∞—Ç—å–∏

‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞: 
   - sendPhoto #1 —Å caption (–æ—Å–Ω–æ–≤–Ω–æ–µ —Ñ–æ—Ç–æ + —Ç–µ–∫—Å—Ç)
   - sendPhoto #2-5 –±–µ–∑ caption (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ)
‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: 5 —Å–æ–æ–±—â–µ–Ω–∏–π (–ø–µ—Ä–≤–æ–µ —Å —Ç–µ–∫—Å—Ç–æ–º, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–æ–ª—å–∫–æ —Ñ–æ—Ç–æ)
```

### –ü—Ä–∏–º–µ—Ä 3: –ù–æ–≤–æ—Å—Ç—å –±–µ–∑ –º–µ–¥–∏–∞
```
–ò—Å—Ç–æ—á–Ω–∏–∫: Hacker News
–ú–µ–¥–∏–∞: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞: sendMessage
‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: 1 —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç–µ–∫—Å—Ç–æ–º
```

### –ü—Ä–∏–º–µ—Ä 4: –ù–æ–≤–æ—Å—Ç—å —Å –≤–∏–¥–µ–æ
```
–ò—Å—Ç–æ—á–Ω–∏–∫: Ars Technica
–í–∏–¥–µ–æ: https://example.com/video.mp4 (–∏–∑ RSS enclosure)

‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞: sendVideo —Å caption
‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: 1 —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –≤–∏–¥–µ–æ –∏ —Ç–µ–∫—Å—Ç–æ–º
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ú–µ—Ç–æ–¥—ã TelegramAPI

```php
// –§–æ—Ç–æ
$message = $bot->sendPhoto(
    string|int $chatId,
    string $photo,              // URL –∏–ª–∏ file_id
    array $options = [
        'caption' => string,    // –î–æ 1024 —Å–∏–º–≤–æ–ª–æ–≤
        'parse_mode' => 'HTML'
    ]
): Message

// –í–∏–¥–µ–æ
$message = $bot->sendVideo(
    string|int $chatId,
    string $video,              // URL –∏–ª–∏ file_id
    array $options = [
        'caption' => string,
        'parse_mode' => 'HTML'
    ]
): Message

// –¢–µ–∫—Å—Ç
$message = $bot->sendMessage(
    string|int $chatId,
    string $text,               // –î–æ 4096 —Å–∏–º–≤–æ–ª–æ–≤
    array $options = [
        'parse_mode' => 'HTML',
        'disable_web_page_preview' => bool
    ]
): Message
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–¥–∏–∞

**RSS Enclosure:**
```php
[
    'url' => 'https://example.com/image.jpg',
    'type' => 'image/jpeg',
    'length' => 123456
]
```

**Extracted Image:**
```php
[
    'url' => 'https://example.com/image.png',
    'src' => 'https://example.com/image.png',
    'alt' => 'Image description',
    'width' => 800,
    'height' => 600
]
```

---

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –û–¥–Ω–æ —Ñ–æ—Ç–æ —Å caption
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ)
- ‚úÖ –í–∏–¥–µ–æ —Å caption
- ‚úÖ Fallback –Ω–∞ —Ç–µ–∫—Å—Ç
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è URL

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è (v1.2)
- üîÑ sendMediaGroup API (–Ω–∞—Ç–∏–≤–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ñ–æ—Ç–æ)
- üîÑ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–µ–¥–∏–∞ (file_id)
- üîÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GIF –∞–Ω–∏–º–∞—Ü–∏–π
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π resize –±–æ–ª—å—à–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞ —Å fallback –ø—Ä–æ–∫—Å–∏

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å MySQL
sudo service mysql start

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç
php tests/rss2tlg_stress_test.php

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Telegram –∫–∞–Ω–∞–ª @kompasDaily
# –¢–µ–ø–µ—Ä—å –Ω–æ–≤–æ—Å—Ç–∏ –±—É–¥—É—Ç —Å —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ!
```

---

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **tests/rss2tlg_stress_test.php**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `collectMediaUrls()` - —Å–±–æ—Ä –º–µ–¥–∏–∞
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `isValidImageUrl()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è URL
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `publishWithMedia()` - –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å —Ñ–æ—Ç–æ
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `publishWithVideo()` - –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å –≤–∏–¥–µ–æ
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `publishToChannel()` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞

2. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   - TelegramAPI - –º–µ—Ç–æ–¥—ã sendPhoto, sendVideo
   - WebExtractor - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

- ‚úÖ –§–æ—Ç–æ –∏–∑ RSS enclosures –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ WebExtractor –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- ‚úÖ –í–∏–¥–µ–æ –∏–∑ RSS –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- ‚úÖ –¢–µ–∫—Å—Ç + –º–µ–¥–∏–∞ –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ (caption)
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≥—Ä—É–ø–ø–æ–π
- ‚úÖ Graceful fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –º–µ–¥–∏–∞

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üéâ
