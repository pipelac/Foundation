# Changelog - OpenRouterClient

## [1.0.0] - 2024

### –î–æ–±–∞–≤–ª–µ–Ω–æ

#### –ù–æ–≤—ã–π –∫–ª–∞—Å—Å OpenRouterClient
–°–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π OpenRouter API:

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ API –∫–ª—é—á–∞ (`validateApiKey()`)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ (`getKeyInfo()`)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞ (`getBalance()`)
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (`getUsageStats()`)
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–∏–º–∏—Ç–∞—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (`getRateLimits()`)

**–†–∞–±–æ—Ç–∞ —Å –º–æ–¥–µ–ª—è–º–∏:**
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π (`getModels()`)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ (`getModelInfo()`)
- ‚úÖ –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞ (`calculateCost()`)

**–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π:**
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ ID (`getGenerationInfo()`)

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- üìÑ **OPENROUTER_CLIENT_README.md** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- üìù –û–±–Ω–æ–≤–ª—ë–Ω –æ—Å–Ω–æ–≤–Ω–æ–π **README.md** —Å —Ä–∞–∑–¥–µ–ª–æ–º –æ–± OpenRouterClient
- üí° –°–æ–∑–¥–∞–Ω **examples/openrouter_client_example.php** - —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è PHP 8.1+
- PHPDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π (OpenRouterException, OpenRouterApiException, etc.)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–ª–∞—Å—Å–æ–º Http –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Logger

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
src/
‚îú‚îÄ‚îÄ OpenRouterClient.class.php    # –ù–æ–≤—ã–π –∫–ª–∞—Å—Å
examples/
‚îú‚îÄ‚îÄ openrouter_client_example.php # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
OPENROUTER_CLIENT_README.md       # –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

**Endpoints OpenRouter API:**
- `GET /api/v1/auth/key` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API –∫–ª—é—á–µ
- `GET /api/v1/models` - —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
- `GET /api/v1/generation?id={id}` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```php
use App\Component\OpenRouterClient;
use App\Config\ConfigLoader;

$config = ConfigLoader::load(__DIR__ . '/config/openrouter.json');
$client = new OpenRouterClient($config, $logger);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
$balance = $client->getBalance();
echo "–ë–∞–ª–∞–Ω—Å: $" . number_format($balance, 2);

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
$stats = $client->getUsageStats();
echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: {$stats['usage_percentage']}%";

// –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
$cost = $client->calculateCost('openai/gpt-3.5-turbo', 1000, 500);
echo "–°—Ç–æ–∏–º–æ—Å—Ç—å: $" . $cost['total_cost_usd'];
```

### –û—Ç–ª–∏—á–∏–µ –æ—Ç –∫–ª–∞—Å—Å–∞ OpenRouter

| OpenRouter | OpenRouterClient |
|-----------|------------------|
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–ª–∞–Ω—Å–µ, —Ç–æ–∫–µ–Ω–∞—Ö |
| –†–∞–±–æ—Ç–∞ —Å AI –º–æ–¥–µ–ª—è–º–∏ | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ |
| text2text, image2text, etc. | getBalance, getUsageStats, etc. |

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- PHP 8.1+
- –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º config/openrouter.json
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –ø—Ä–æ–µ–∫—Ç–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å API –∫–ª—é—á–∞–º–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

**–ê–≤—Ç–æ—Ä:** AI Development Team  
**–î–∞—Ç–∞:** 2024  
**–í–µ—Ä—Å–∏—è:** 1.0.0
