# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –Ω–∞ Windows

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ `init_schema.sql` —á–µ—Ä–µ–∑ MySQL-–∫–ª–∏–µ–Ω—Ç –Ω–∞ Windows –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ "–∫—Ä–∞–∫–æ–∑—è–±—Ä—ã".

**–ü—Ä–∏—á–∏–Ω–∞:** Windows MySQL-–∫–ª–∏–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–¥–∏—Ä–æ–≤–∫—É cp1251/latin1, –∞ —Ñ–∞–π–ª SQL —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ UTF-8.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –§–ª–∞–≥ –≤ –∫–æ–º–∞–Ω–¥–µ (–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ)

```cmd
mysql --default-character-set=utf8mb4 -u rss2tlg_user -p rss2tlg < production/sql/init_schema.sql
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É
- ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ my.ini (–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)

### –®–∞–≥ 1: –ù–∞–π—Ç–∏ my.ini

–í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è:
- `C:\ProgramData\MySQL\MySQL Server X.X\my.ini`
- `C:\Program Files\MySQL\MySQL Server X.X\my.ini`
- `C:\Windows\my.ini`

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–û—Ç–∫—Ä—ã—Ç—å `my.ini` –≤ –±–ª–æ–∫–Ω–æ—Ç–µ (–æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞) –∏ –¥–æ–±–∞–≤–∏—Ç—å:

```ini
[mysql]
default-character-set=utf8mb4

[client]
default-character-set=utf8mb4

[mysqld]
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å MySQL

```cmd
# –ß–µ—Ä–µ–∑ Services
services.msc
# –ù–∞–π—Ç–∏ MySQL -> –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å

# –ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (–æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
net stop MySQL80
net start MySQL80
```

### –®–∞–≥ 4: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ

```cmd
mysql -u rss2tlg_user -p rss2tlg < production/sql/init_schema.sql
```

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 3: –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –ë–î

–ï—Å–ª–∏ –ë–î —É–∂–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π:

```cmd
# 1. –£–¥–∞–ª–∏—Ç—å –ë–î
mysql -u root -p -e "DROP DATABASE IF EXISTS rss2tlg;"

# 2. –°–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
mysql -u root -p -e "CREATE DATABASE rss2tlg CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# 3. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ñ–ª–∞–≥–æ–º
mysql --default-character-set=utf8mb4 -u rss2tlg_user -p rss2tlg < production/sql/init_schema.sql
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏

### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```cmd
mysql -u rss2tlg_user -p rss2tlg -e "SELECT @@character_set_database, @@collation_database;"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

```
+--------------------------+----------------------+
| @@character_set_database | @@collation_database |
+--------------------------+----------------------+
| utf8mb4                  | utf8mb4_unicode_ci   |
+--------------------------+----------------------+
```

### –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```cmd
mysql -u rss2tlg_user -p rss2tlg < production/sql/check_encoding.sql
```

---

## üìã –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ –≤ init_schema.sql v2.1

–í –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã:

```sql
/*!40101 SET NAMES utf8mb4 */;
/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
```

–í –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```sql
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
```

–≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é UTF-8 –¥–∞–∂–µ –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥—É—é –∫–æ–¥–∏—Ä–æ–≤–∫—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

---

## üß™ –¢–µ—Å—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ–¥–Ω–æ–π –∏–∑ —Ç–∞–±–ª–∏—Ü:

```sql
SHOW CREATE TABLE rss2tlg_feeds;
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ (UTF-8):**
```
COMMENT='RSS –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π'
```

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–∫—Ä–∞–∫–æ–∑—è–±—Ä—ã):**
```
COMMENT='RSS –†—ë–°–É–°‚Äö–†—ï–°‚Ä°–†–Ö–†—ë–†—î–†—ë –†–Ö–†—ï–†–Ü–†—ï–°–É–°‚Äö–†¬µ–†‚Ññ'
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –∫—Ä–∞–∫–æ–∑—è–±—Ä—ã ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω–æ –∏–∑ —Ä–µ—à–µ–Ω–∏–π –≤—ã—à–µ.

---

## üîó –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [production/README.md](../README.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [docs/Rss2Tlg/INSTALL.md](../../docs/Rss2Tlg/INSTALL.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- [check_encoding.sql](./check_encoding.sql) - –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∏

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2025-01-13  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Tested on Windows 10/11 + MySQL 8.0
