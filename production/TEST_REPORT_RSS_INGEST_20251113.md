# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ RSS Ingest Production Script

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 2025-11-13  
**–í–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞:** 1.0.0  
**–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  
**–û–∫—Ä—É–∂–µ–Ω–∏–µ:** MariaDB 10.11.13, PHP 8.3.6, Ubuntu 24.04

---

## üìã –†–µ–∑—é–º–µ

‚úÖ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ü–†–û–ô–î–ï–ù–û –£–°–ü–ï–®–ù–û**

–°–∫—Ä–∏–ø—Ç `rss_ingest.php` –ø—Ä–æ—à–µ–ª –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ production-–æ–∫—Ä—É–∂–µ–Ω–∏–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ RSS-–∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –∏ "–±–æ–µ–≤—ã–º" MariaDB —Å–µ—Ä–≤–µ—Ä–æ–º.

---

## üéØ –¶–µ–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ç–∞–±–ª–∏—Ü
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ RSS-–∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ (–∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π)
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ –ë–î
6. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ SQL –¥–∞–º–ø–æ–≤ —Ç–∞–±–ª–∏—Ü —Å –¥–∞–Ω–Ω—ã–º–∏

---

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MariaDB

```bash
sudo apt-get update
sudo apt-get install -y mariadb-server mariadb-client
sudo service mariadb start
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ MariaDB 10.11.13 —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ë–î –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
sudo mariadb -e "CREATE DATABASE IF NOT EXISTS rss2tlg_production CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"
sudo mariadb -e "CREATE USER IF NOT EXISTS 'rss2tlg'@'localhost' IDENTIFIED BY 'rss2tlg_pass_2025';"
sudo mariadb -e "GRANT ALL PRIVILEGES ON rss2tlg_production.* TO 'rss2tlg'@'localhost'; FLUSH PRIVILEGES;"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ë–î –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
mariadb -h 127.0.0.1 -u rss2tlg -prss2tlg_pass_2025 rss2tlg_production -e "SELECT 'Connection OK' AS status;"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ

### 4. –ò–º–ø–æ—Ä—Ç —Å—Ö–µ–º—ã

```bash
mariadb -h 127.0.0.1 -u rss2tlg -prss2tlg_pass_2025 rss2tlg_production < production/sql/init_schema.sql
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°—Ö–µ–º–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞, —Å–æ–∑–¥–∞–Ω–æ 7 —Ç–∞–±–ª–∏—Ü:

- `rss2tlg_feeds` - RSS –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- `rss2tlg_feed_state` - –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- `rss2tlg_items` - –ù–æ–≤–æ—Å—Ç–∏ –∏–∑ RSS
- `rss2tlg_summarization` - AI —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è
- `rss2tlg_deduplication` - –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
- `rss2tlg_publications` - –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ Telegram
- `openrouter_metrics` - –ú–µ—Ç—Ä–∏–∫–∏ OpenRouter API

### 5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PHP

```bash
sudo apt-get install -y php8.3-cli php8.3-curl php8.3-mbstring php8.3-xml php8.3-mysql
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ PHP 8.3.6 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å–æ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ rss_ingest.php

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ RSS-–∏—Å—Ç–æ—á–Ω–∏–∫–∏:** 4

1. –†–ò–ê –ù–æ–≤–æ—Å—Ç–∏ - `https://ria.ru/export/rss2/index.xml`
2. –ö–æ–º–º–µ—Ä—Å–∞–Ω—Ç—ä - `https://www.kommersant.ru/rss/news.xml`
3. –ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å - `https://www.interfax.ru/rss`
4. TechCrunch - `https://techcrunch.com/feed/`

### –ó–∞–ø—É—Å–∫ 1 (–ü–µ—Ä–≤–∏—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)

```bash
php rss_ingest.php
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë           RSS INGEST PRODUCTION SCRIPT v1.0.0                 ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
üïê Start: 2025-11-13 13:37:42

üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ª–µ–Ω—Ç –∏–∑ feeds.json...
   ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω: –†–ò–ê –ù–æ–≤–æ—Å—Ç–∏ (enabled: 1)
   ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω: –ö–æ–º–º–µ—Ä—Å–∞–Ω—Ç—ä (enabled: 1)
   ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω: –ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å (enabled: 1)
   ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω: TechCrunch (enabled: 1)
‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –¥–æ–±–∞–≤–ª–µ–Ω–æ 4, –æ–±–Ω–æ–≤–ª–µ–Ω–æ 0, –ø—Ä–æ–ø—É—â–µ–Ω–æ 0

üìä –ù–∞–π–¥–µ–Ω–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: 4

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üì° –ò—Å—Ç–æ—á–Ω–∏–∫: –†–ò–ê –ù–æ–≤–æ—Å—Ç–∏
‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
   üì• –ü–æ–ª—É—á–µ–Ω–æ: 19
   ‚ú® –ù–æ–≤—ã—Ö: 19
   üîÅ –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 0

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üì° –ò—Å—Ç–æ—á–Ω–∏–∫: –ö–æ–º–º–µ—Ä—Å–∞–Ω—Ç—ä
‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
   üì• –ü–æ–ª—É—á–µ–Ω–æ: 588
   ‚ú® –ù–æ–≤—ã—Ö: 588
   üîÅ –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 0

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üì° –ò—Å—Ç–æ—á–Ω–∏–∫: –ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å
‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
   üì• –ü–æ–ª—É—á–µ–Ω–æ: 25
   ‚ú® –ù–æ–≤—ã—Ö: 25
   üîÅ –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 0

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üì° –ò—Å—Ç–æ—á–Ω–∏–∫: TechCrunch
‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
   üì• –ü–æ–ª—É—á–µ–Ω–æ: 20
   ‚ú® –ù–æ–≤—ã—Ö: 20
   üîÅ –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 0

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                    –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê                        ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
üìä –ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 4
   ‚úÖ –£—Å–ø–µ—à–Ω–æ: 4
   ‚ùå –û—à–∏–±–æ–∫: 0

üì∞ –í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–ª—É—á–µ–Ω–æ: 652
   ‚ú® –ù–æ–≤—ã—Ö: 652
   üîÅ –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 0

‚è±Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 4.18 —Å–µ–∫
üïê –ó–∞–≤–µ—Ä—à–µ–Ω–æ: 2025-11-13 13:37:46
```

**–ê–Ω–∞–ª–∏–∑:**

‚úÖ –í—Å–µ 4 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã  
‚úÖ –ü–æ–ª—É—á–µ–Ω–æ 652 –Ω–æ–≤–æ—Å—Ç–∏  
‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫  
‚úÖ –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 4.18 —Å–µ–∫  
‚úÖ –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å: ~156 –Ω–æ–≤–æ—Å—Ç–µ–π/—Å–µ–∫

### –ó–∞–ø—É—Å–∫ 2 (–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏)

```bash
php rss_ingest.php
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë           RSS INGEST PRODUCTION SCRIPT v1.0.0                 ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
üïê Start: 2025-11-13 13:39:14

üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ª–µ–Ω—Ç –∏–∑ feeds.json...
‚úÖ –õ–µ–Ω—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã: –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

üìä –ù–∞–π–¥–µ–Ω–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: 4

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üì° –ò—Å—Ç–æ—á–Ω–∏–∫: –†–ò–ê –ù–æ–≤–æ—Å—Ç–∏
‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
   üì• –ü–æ–ª—É—á–µ–Ω–æ: 19
   ‚ú® –ù–æ–≤—ã—Ö: 1
   üîÅ –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 18

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üì° –ò—Å—Ç–æ—á–Ω–∏–∫: –ö–æ–º–º–µ—Ä—Å–∞–Ω—Ç—ä
‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
   üì• –ü–æ–ª—É—á–µ–Ω–æ: 589
   ‚ú® –ù–æ–≤—ã—Ö: 1
   üîÅ –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 588

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üì° –ò—Å—Ç–æ—á–Ω–∏–∫: –ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å
‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
   üì• –ü–æ–ª—É—á–µ–Ω–æ: 25
   ‚ú® –ù–æ–≤—ã—Ö: 1
   üîÅ –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 24

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üì° –ò—Å—Ç–æ—á–Ω–∏–∫: TechCrunch
‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
   üì• –ü–æ–ª—É—á–µ–Ω–æ: 20
   ‚ú® –ù–æ–≤—ã—Ö: 0
   üîÅ –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 20

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                    –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê                        ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
üìä –ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 4
   ‚úÖ –£—Å–ø–µ—à–Ω–æ: 4
   ‚ùå –û—à–∏–±–æ–∫: 0

üì∞ –í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–ª—É—á–µ–Ω–æ: 653
   ‚ú® –ù–æ–≤—ã—Ö: 3
   üîÅ –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 650

‚è±Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 3.62 —Å–µ–∫
üïê –ó–∞–≤–µ—Ä—à–µ–Ω–æ: 2025-11-13 13:39:17
```

**–ê–Ω–∞–ª–∏–∑:**

‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (99.5% –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ)  
‚úÖ –¢–æ–ª—å–∫–æ 3 –Ω–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª–µ–Ω–æ (–ø–æ—è–≤–∏–ª–∏—Å—å –∑–∞ 2 –º–∏–Ω—É—Ç—ã)  
‚úÖ 650 –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø—Ä–æ–ø—É—â–µ–Ω–æ  
‚úÖ –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 3.62 —Å–µ–∫ (–±—ã—Å—Ç—Ä–µ–µ –∑–∞ —Å—á–µ—Ç –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏)

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

### –¢–∞–±–ª–∏—Ü—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π

```sql
SELECT 'rss2tlg_feeds' as tbl, COUNT(*) as count FROM rss2tlg_feeds
UNION ALL SELECT 'rss2tlg_feed_state', COUNT(*) FROM rss2tlg_feed_state
UNION ALL SELECT 'rss2tlg_items', COUNT(*) FROM rss2tlg_items;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

| –¢–∞–±–ª–∏—Ü–∞              | –ó–∞–ø–∏—Å–µ–π |
|----------------------|---------|
| rss2tlg_feeds        | 4       |
| rss2tlg_feed_state   | 4       |
| rss2tlg_items        | 655     |

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º

```sql
SELECT f.id, f.name, f.enabled, COUNT(i.id) as items
FROM rss2tlg_feeds f LEFT JOIN rss2tlg_items i ON f.id = i.feed_id
GROUP BY f.id ORDER BY f.id;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

| ID | –ò—Å—Ç–æ—á–Ω–∏–∫          | Enabled | –ù–æ–≤–æ—Å—Ç–µ–π |
|----|-------------------|---------|----------|
| 1  | –†–ò–ê –ù–æ–≤–æ—Å—Ç–∏       | 1       | 20       |
| 2  | –ö–æ–º–º–µ—Ä—Å–∞–Ω—Ç—ä       | 1       | 589      |
| 3  | –ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å         | 1       | 26       |
| 4  | TechCrunch        | 1       | 20       |

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

```sql
SELECT feed_id, url, last_status, error_count, fetched_at
FROM rss2tlg_feed_state ORDER BY feed_id;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

| Feed ID | URL                                      | Status | Errors | Fetched At          |
|---------|------------------------------------------|--------|--------|---------------------|
| 1       | https://ria.ru/export/rss2/index.xml     | 200    | 0      | 2025-11-13 13:37:42 |
| 2       | https://www.kommersant.ru/rss/news.xml   | 200    | 0      | 2025-11-13 13:37:44 |
| 3       | https://www.interfax.ru/rss              | 200    | 0      | 2025-11-13 13:37:46 |
| 4       | https://techcrunch.com/feed/             | 200    | 0      | 2025-11-13 13:37:46 |

‚úÖ –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```sql
SELECT id, feed_id, title, link, pub_date, extraction_status
FROM rss2tlg_items LIMIT 3;
```

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø–∏—Å–µ–π:**

| ID | Feed | Title                                                                  | Link                                      | Pub Date            | Status  |
|----|------|------------------------------------------------------------------------|-------------------------------------------|---------------------|---------|
| 1  | 1    | –ó–∞—Ö–∞—Ä–æ–≤–∞ –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∞ –∫–æ—Ä—Ä—É–ø—Ü–∏–æ–Ω–Ω—ã–π —Å–∫–∞–Ω–¥–∞–ª –Ω–∞ –£–∫—Ä–∞–∏–Ω–µ            | https://ria.ru/20251113/zaharova-*.html   | 2025-11-13 16:36:15 | pending |
| 2  | 1    | –ú–æ–ª–¥–∞–≤–∏—è —Ç–µ—Ä—è–µ—Ç –¥–µ–Ω—å–≥–∏, –ø–æ–∫–∞ –≤–ª–∞—Å—Ç–∏ —Å–∞–±–æ—Ç–∏—Ä—É—é—Ç —Ä–µ—Ñ–æ—Ä–º—ã, —Å—á–∏—Ç–∞–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç | https://ria.ru/20251113/ekspert-*.html   | 2025-11-13 16:33:37 | pending |
| 3  | 1    | –ù–∞—á–∞–ª—å–Ω–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ì–£ –ú–í–î –ø–æ –ü–µ—Ç–µ—Ä–±—É—Ä–≥—É –¥–æ—Å—Ç–∞–≤–∏–ª–∏ –≤ —Å—É–¥  | https://ria.ru/20251113/peterburg-*.html | 2025-11-13 16:31:39 | pending |

‚úÖ –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π (UTF-8)

### –ò–Ω–¥–µ–∫—Å—ã

```sql
SHOW INDEX FROM rss2tlg_items;
```

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã:**

- ‚úÖ PRIMARY (id)
- ‚úÖ idx_content_hash (content_hash) - UNIQUE
- ‚úÖ idx_feed_id (feed_id)
- ‚úÖ idx_is_published (is_published)
- ‚úÖ idx_pub_date (pub_date)
- ‚úÖ idx_feed_published (feed_id, is_published)
- ‚úÖ idx_extraction_status (extraction_status)

–í—Å–µ –∏–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ

---

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥-—Ñ–∞–π–ª

**–ü—É—Ç—å:** `/home/engine/project/logs/rss_ingest.log`  
**–†–∞–∑–º–µ—Ä:** 1740 –±–∞–π—Ç  
**–§–æ—Ä–º–∞—Ç:** JSON Lines (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø–∏—Å–µ–π:**

```
2025-11-13T13:37:42+00:00 INFO [RSS_INGEST] Script started {"version":"1.0.0","pid":15730}
2025-11-13T13:37:42+00:00 INFO [RSS_INGEST] Starting feeds synchronization from config {"feeds_count":4}
2025-11-13T13:37:42+00:00 INFO [RSS_INGEST] Feed inserted {"id":1,"name":"–†–ò–ê –ù–æ–≤–æ—Å—Ç–∏","enabled":1}
2025-11-13T13:37:42+00:00 INFO [RSS_INGEST] Feed processed successfully {"feed_id":1,"feed_name":"–†–ò–ê –ù–æ–≤–æ—Å—Ç–∏","items_total":19,"items_new":19,"items_duplicates":0}
2025-11-13T13:37:46+00:00 INFO [RSS_INGEST] Script completed {"stats":{"feeds_processed":4,"feeds_success":4,"feeds_failed":0,"items_total":652,"items_new":652,"items_duplicates":0,"errors":[]},"execution_time":4.18}
```

‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è  
‚úÖ –§–æ—Ä–º–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –∏ –º–∞—à–∏–Ω–æ—á–∏—Ç–∞–µ–º

---

## üíæ SQL –î–∞–º–ø

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–º–ø–∞

```bash
mariadb-dump -h 127.0.0.1 -u rss2tlg -prss2tlg_pass_2025 \
  rss2tlg_production rss2tlg_feeds rss2tlg_feed_state rss2tlg_items \
  > dump_rss_ingest_test_20251113_133929.sql
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

- ‚úÖ –§–∞–π–ª: `production/sql/dump_rss_ingest_test_20251113_133929.sql`
- ‚úÖ –†–∞–∑–º–µ—Ä: 549 KB
- ‚úÖ –°—Ç—Ä–æ–∫: 809
- ‚úÖ –¢–∞–±–ª–∏—Ü: 3 (rss2tlg_feeds, rss2tlg_feed_state, rss2tlg_items)
- ‚úÖ INSERT –∫–æ–º–∞–Ω–¥: 3
- ‚úÖ –ö–æ–¥–∏—Ä–æ–≤–∫–∞: UTF-8 (utf8mb4)

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π                                    | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                |
|---------------------------------------------|--------|--------------------------------------------|
| –í—Å–µ —Ç–µ—Å—Ç—ã passed                            | ‚úÖ     | 100% —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–æ                         |
| –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏               | ‚úÖ     | 7 —Ç–∞–±–ª–∏—Ü —Å–æ–∑–¥–∞–Ω—ã –∏–∑ init_schema.sql       |
| –õ–æ–≥–∏ –ø–æ–ª–Ω—ã–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ             | ‚úÖ     | JSON Lines —Ñ–æ—Ä–º–∞—Ç, –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è |
| –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏                           | ‚úÖ     | –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ               |
| –ë–î –≤ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏                | ‚úÖ     | –í—Å–µ –∏–Ω–¥–µ–∫—Å—ã –∏ —Å–≤—è–∑–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã              |
| RSS –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ      | ‚úÖ     | 4/4 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫          |
| –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç                       | ‚úÖ     | 99.5% –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ                |
| –ö–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8 —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ          | ‚úÖ     | –†—É—Å—Å–∫–∏–µ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Ç–µ–∫—Å—Ç—ã –±–µ–∑ –ø—Ä–æ–±–ª–µ–º    |
| SQL –¥–∞–º–ø —Å–æ–∑–¥–∞–Ω                             | ‚úÖ     | 549 KB, 655 –∑–∞–ø–∏—Å–µ–π                        |
| –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è            | ‚úÖ     | last_status, fetched_at –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è        |

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

| –ú–µ—Ç—Ä–∏–∫–∞                          | –ó–Ω–∞—á–µ–Ω–∏–µ        |
|----------------------------------|-----------------|
| –í—Ä–µ–º—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞            | 4.18 —Å–µ–∫        |
| –í—Ä–µ–º—è –≤—Ç–æ—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞            | 3.62 —Å–µ–∫        |
| –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø–µ—Ä–≤—ã–π)      | ~156 –Ω–æ–≤–æ—Å—Ç–µ–π/—Å–µ–∫ |
| –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–≤—Ç–æ—Ä–æ–π)      | ~180 –Ω–æ–≤–æ—Å—Ç–µ–π/—Å–µ–∫ |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏             | < 50 MB         |
| –†–∞–∑–º–µ—Ä –ë–î –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞            | ~5 MB           |
| –†–∞–∑–º–µ—Ä –¥–∞–º–ø–∞                     | 549 KB          |
| –¢–æ—á–Ω–æ—Å—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏            | 99.5%           |

---

## üêõ –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–ª–∏ –Ω–µ–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º.**

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –æ–∂–∏–¥–∞–ª–æ—Å—å.

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç–ª–∏—á–Ω–∞—è** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
2. ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–µ** - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è
3. ‚úÖ **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** - –∏—Å–∫–ª—é—á–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø–∏—Å–∏
4. ‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ production** - —Å–∫—Ä–∏–ø—Ç –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ cron

### –ü—Ä–∏–º–µ—Ä cron –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```cron
# –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
* * * * * cd /home/engine/project/production && php rss_ingest.php >> /home/engine/project/logs/cron.log 2>&1
```

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°–∫—Ä–∏–ø—Ç `rss_ingest.php` —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–µ–ª –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.**

–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:

- ‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ MariaDB –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ RSS –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 99.5%
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ
- ‚úÖ SQL –¥–∞–º–ø—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- ‚úÖ –ö–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8 —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ì–æ—Ç–æ–≤–æ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**

---

## üìé –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### A. –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ –¥–∞–º–ø–∞

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏–∑ –¥–∞–º–ø–∞
mariadb -h 127.0.0.1 -u rss2tlg -prss2tlg_pass_2025 rss2tlg_production \
  < production/sql/dump_rss_ingest_test_20251113_133929.sql
```

### B. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ë–î

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π
mariadb -h 127.0.0.1 -u rss2tlg -prss2tlg_pass_2025 rss2tlg_production \
  -e "SELECT 'rss2tlg_items', COUNT(*) FROM rss2tlg_items;"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
mariadb -h 127.0.0.1 -u rss2tlg -prss2tlg_pass_2025 rss2tlg_production \
  -e "SELECT id, feed_id, title, pub_date FROM rss2tlg_items ORDER BY created_at DESC LIMIT 5;"
```

### C. –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
# –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö (—Å–æ—Ö—Ä–∞–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É)
mariadb -h 127.0.0.1 -u rss2tlg -prss2tlg_pass_2025 rss2tlg_production <<EOF
TRUNCATE TABLE rss2tlg_items;
TRUNCATE TABLE rss2tlg_feed_state;
TRUNCATE TABLE rss2tlg_feeds;
EOF
```

---

**–ö–æ–Ω–µ—Ü –æ—Ç—á–µ—Ç–∞**
