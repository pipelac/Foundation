# 🚀 ИНСТРУКЦИЯ ПО РЕАЛЬНОМУ ТЕСТИРОВАНИЮ TELEGRAM БОТА

## 📋 Информация о боте

**Токен:** `8327641497:AAFTHb3xSTpP3Q6Peg8-OK4nTWTfF7iMWfI`  
**Username:** `@PipelacTest_bot`  
**Название:** PipelacTest

---

## 🎯 СПОСОБ 1: Автоматическое определение Chat ID (РЕКОМЕНДУЕТСЯ)

### Шаг 1: Запустите скрипт получения Chat ID

```bash
php get_chat_id.php
```

Скрипт запущен и ожидает ваше сообщение!

### Шаг 2: Отправьте сообщение боту

1. Откройте Telegram на телефоне или в браузере
2. Найдите бота: **@PipelacTest_bot**
3. Нажмите **START** или отправьте любое сообщение (например: "Привет")
4. Скрипт автоматически определит ваш Chat ID и отобразит его

### Шаг 3: Запустите полный тест

После получения Chat ID выполните:

```bash
php send_test_media.php YOUR_CHAT_ID
```

Замените `YOUR_CHAT_ID` на полученный ID.

---

## 🎯 СПОСОБ 2: Ручной ввод Chat ID

### Вариант A: Через @userinfobot

1. Откройте бота **@userinfobot** в Telegram
2. Нажмите `/start`
3. Бот отправит вам ваш ID
4. Скопируйте ID и запустите:

```bash
php send_test_media.php YOUR_CHAT_ID
```

### Вариант B: Через @getmyid_bot

1. Откройте бота **@getmyid_bot** в Telegram
2. Нажмите `/start`
3. Получите свой ID
4. Запустите тест:

```bash
php send_test_media.php YOUR_CHAT_ID
```

---

## 📦 ЧТО БУДЕТ ОТПРАВЛЕНО

Скрипт `send_test_media.php` отправит вам:

1. ✅ **Текстовое сообщение**
   - С форматированием Markdown
   - С эмодзи
   - С кириллицей

2. ✅ **Изображение (локальный файл)**
   - PNG 100x100 пикселей
   - С градиентной заливкой
   - С подписью

3. ✅ **Изображение (по URL)**
   - Загружается с внешнего источника
   - Placeholder изображение

4. ✅ **Документ**
   - Текстовый файл .txt
   - Содержит кириллицу и латиницу
   - С подписью

5. ✅ **Аудиофайл**
   - MP3 формат
   - С метаданными (название, исполнитель)

---

## 🔧 БЫСТРАЯ ПРОВЕРКА БОТА

Для быстрой проверки доступности бота:

```bash
php quick_test.php
```

Этот скрипт:
- Проверит подключение к Telegram API
- Получит информацию о боте
- Отобразит статус
- Покажет следующие шаги

---

## 📊 ПРИМЕР ВЫВОДА

После успешной отправки вы увидите:

```
╔═══════════════════════════════════════════════════════════╗
║         РЕАЛЬНЫЙ ТЕСТ КЛАССА TELEGRAM                     ║
╚═══════════════════════════════════════════════════════════╝

🤖 Получение информации о боте...
✅ Успешно!
   Имя бота: PipelacTest
   Username: @PipelacTest_bot
   ID: 8327641497

📨 Chat ID: 123456789

────────────────────────────────────────────────────────────

📝 Отправка текстового сообщения...
✅ Текстовое сообщение отправлено!
   Message ID: 42

🖼️  Отправка изображения...
✅ Изображение отправлено!
   Message ID: 43

🌐 Отправка изображения по URL...
✅ Изображение по URL отправлено!
   Message ID: 44

📄 Отправка документа...
✅ Документ отправлен!
   Message ID: 45

🎵 Отправка аудиофайла...
✅ Аудиофайл отправлен!
   Message ID: 46

────────────────────────────────────────────────────────────

📊 ИТОГИ:

  ✅ Текст
  ✅ Изображение (файл)
  ✅ Изображение (URL)
  ✅ Документ
  ✅ Аудио

Успешно: 5/5

🎉 ВСЕ ТЕСТЫ ПРОЙДЕНЫ УСПЕШНО!

📝 Лог файл: /path/to/test_media_real/logs/real_test.log
```

---

## 🐛 РЕШЕНИЕ ПРОБЛЕМ

### Ошибка "Chat not found"
- Убедитесь, что вы отправили боту /start
- Проверьте правильность Chat ID

### Ошибка "Unauthorized"
- Проверьте корректность токена
- Убедитесь, что бот не был удален

### Ошибка "Bad Request: message text is empty"
- Проверьте, что отправляется непустой текст
- Убедитесь в корректности кодировки

### Файлы не отправляются
- Проверьте права доступа к файлам
- Убедитесь, что файлы были созданы
- Проверьте размер файлов (максимум 50 МБ)

---

## 📁 СОЗДАННЫЕ ФАЙЛЫ

### Скрипты:
- `get_chat_id.php` - Автоопределение Chat ID (✅ запущен)
- `send_test_media.php` - Отправка тестовых медиа
- `quick_test.php` - Быстрая проверка бота

### Тестовые данные:
- `test_media_real/test_image.png` - Тестовое изображение
- `test_media_real/test_document.txt` - Тестовый документ
- `test_media_real/test_audio.mp3` - Тестовый аудиофайл
- `test_media_real/logs/real_test.log` - Лог выполнения

---

## 🎓 ЧТО ТЕСТИРУЕТСЯ

✅ **Подключение к Telegram API**
✅ **Валидация токена**
✅ **Метод getMe() - информация о боте**
✅ **Метод sendMessage() - текстовые сообщения**
✅ **Метод sendPhoto() - изображения (файл)**
✅ **Метод sendPhoto() - изображения (URL)**
✅ **Метод sendDocument() - документы**
✅ **Метод sendAudio() - аудиофайлы**
✅ **Поддержка Markdown форматирования**
✅ **Поддержка кириллицы и эмодзи**
✅ **Логирование всех операций**
✅ **Обработка ошибок API**

---

## 📞 ТЕКУЩИЙ СТАТУС

🟢 **Скрипт get_chat_id.php запущен и ожидает ваше сообщение!**

**Следующий шаг:**
1. Откройте Telegram
2. Найдите @PipelacTest_bot
3. Отправьте любое сообщение
4. Chat ID будет определен автоматически
5. Запустите полный тест

---

**Дата создания:** 2025-10-30  
**Статус:** ✅ Готов к тестированию
