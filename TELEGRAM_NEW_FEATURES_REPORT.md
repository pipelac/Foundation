# –û—Ç—á—ë—Ç –æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –∫–ª–∞—Å—Å Telegram

## –î–∞—Ç–∞: 31 –æ–∫—Ç—è–±—Ä—è 2025
## –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: Senior PHP Developer

---

## üìã –û–±–∑–æ—Ä –∑–∞–¥–∞—á–∏

–í –∫–ª–∞—Å—Å `Telegram.class.php` –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
1. ‚úÖ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–π (polls/quiz)
2. ‚úÖ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤—Å–µ—Ö –≤–∏–¥–æ–≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
3. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏ (callback queries)

---

## üöÄ –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### 1. –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è–º–∏ (Polls)

#### `sendPoll()`
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–ø—Ä–æ—Å –∏–ª–∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω—É —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Telegram API:
- –û–±—ã—á–Ω—ã–µ –æ–ø—Ä–æ—Å—ã (regular)
- –í–∏–∫—Ç–æ—Ä–∏–Ω—ã (quiz) —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º
- –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –∏ –ø—É–±–ª–∏—á–Ω—ã–µ –æ–ø—Ä–æ—Å—ã
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
- –ü–æ—è—Å–Ω–µ–Ω–∏—è –∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–∞–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–∞—Ç–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```php
public function sendPoll(
    ?string $chatId, 
    string $question, 
    array $options, 
    array $params = []
): array
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```php
$telegram->sendPoll(
    null,
    '–ö–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?',
    ['PHP', 'Python', 'JavaScript', 'Go'],
    [
        'is_anonymous' => false,
        'allows_multiple_answers' => true,
    ]
);
```

#### `stopPoll()`
–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–π –æ–ø—Ä–æ—Å —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```php
public function stopPoll(
    ?string $chatId, 
    int $messageId, 
    ?array $replyMarkup = null
): array
```

---

### 2. –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞–º–∏

#### `buildInlineKeyboard()`
–§–æ—Ä–º–∏—Ä—É–µ—Ç inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏:
- URL –∫–Ω–æ–ø–∫–∏ (–æ—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–æ–∫)
- Callback –∫–Ω–æ–ø–∫–∏ (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π)
- Web App –∫–Ω–æ–ø–∫–∏
- Switch inline query –∫–Ω–æ–ø–∫–∏
- Login URL –∫–Ω–æ–ø–∫–∏
- –ö–Ω–æ–ø–∫–∏ –æ–ø–ª–∞—Ç—ã

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```php
public function buildInlineKeyboard(array $buttons): array
```

**–ü—Ä–∏–º–µ—Ä:**
```php
$keyboard = $telegram->buildInlineKeyboard([
    [
        ['text' => 'üëç –ù—Ä–∞–≤–∏—Ç—Å—è', 'callback_data' => 'like'],
        ['text' => 'üëé –ù–µ –Ω—Ä–∞–≤–∏—Ç—Å—è', 'callback_data' => 'dislike'],
    ],
    [
        ['text' => 'üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 'url' => 'https://core.telegram.org/bots/api'],
    ],
]);
```

#### `buildReplyKeyboard()`
–§–æ—Ä–º–∏—Ä—É–µ—Ç reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- –û–±—ã—á–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫
- –ó–∞–ø—Ä–æ—Å–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞
- –ó–∞–ø—Ä–æ—Å–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- –ó–∞–ø—Ä–æ—Å–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ–ø—Ä–æ—Å–∞
- Web App –∫–Ω–æ–ø–æ–∫
- –ê–≤—Ç–æ–ø–æ–¥—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–º–µ—Ä–∞
- –û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- Placeholder –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```php
public function buildReplyKeyboard(
    array $buttons, 
    array $params = []
): array
```

**–ü—Ä–∏–º–µ—Ä:**
```php
$keyboard = $telegram->buildReplyKeyboard([
    ['üè† –ì–ª–∞–≤–Ω–∞—è', 'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞'],
    [
        ['text' => 'üì± –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç', 'request_contact' => true],
    ],
], [
    'resize_keyboard' => true,
    'one_time_keyboard' => false,
    'input_field_placeholder' => '–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ...',
]);
```

#### `removeKeyboard()`
–£–¥–∞–ª—è–µ—Ç reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É:

```php
public function removeKeyboard(bool $selective = false): array
```

#### `forceReply()`
–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ:

```php
public function forceReply(
    ?string $placeholder = null, 
    bool $selective = false
): array
```

---

### 3. –ú–µ—Ç–æ–¥—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ callback queries

#### `getUpdates()`
–ü–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç –±–æ—Ç–∞ (long polling):

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```php
public function getUpdates(array $params = []): array
```

**–ü—Ä–∏–º–µ—Ä:**
```php
$updates = $telegram->getUpdates([
    'timeout' => 30,
    'limit' => 100,
    'allowed_updates' => ['callback_query', 'message'],
]);
```

#### `answerCallbackQuery()`
–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ callback query –æ—Ç inline –∫–Ω–æ–ø–æ–∫:

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```php
public function answerCallbackQuery(
    string $callbackQueryId, 
    array $params = []
): array
```

**–ü—Ä–∏–º–µ—Ä:**
```php
$telegram->answerCallbackQuery($callbackId, [
    'text' => '‚úÖ –î–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!',
    'show_alert' => false,
]);
```

---

### 4. –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

#### `editMessageText()`
–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è:

```php
public function editMessageText(
    ?string $chatId, 
    int $messageId, 
    string $text, 
    array $options = []
): array
```

#### `editMessageReplyMarkup()`
–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å–æ–æ–±—â–µ–Ω–∏—è:

```php
public function editMessageReplyMarkup(
    ?string $chatId, 
    int $messageId, 
    ?array $replyMarkup = null
): array
```

#### `deleteMessage()`
–£–¥–∞–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:

```php
public function deleteMessage(
    ?string $chatId, 
    int $messageId
): array
```

---

## üîí –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å—Ç—Ä–æ–≥–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã:

### –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –æ–ø—Ä–æ—Å–æ–≤:
- ‚úÖ `validatePollQuestion()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–ø—Ä–æ—Å–∞ (1-300 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ `validatePollOptions()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ (2-10 —à—Ç—É–∫, 1-100 —Å–∏–º–≤–æ–ª–æ–≤ –∫–∞–∂–¥—ã–π)
- ‚úÖ `validatePollExplanation()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—è—Å–Ω–µ–Ω–∏—è (–¥–æ 200 —Å–∏–º–≤–æ–ª–æ–≤)

### –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä:
- ‚úÖ `validateInlineKeyboard()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
  - –ù–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è `text`
  - –ù–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è (url, callback_data –∏ —Ç.–¥.)
  - –î–ª–∏–Ω–∞ callback_data (1-64 –±–∞–π—Ç–∞)
  
- ‚úÖ `validateReplyKeyboard()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
  - –ù–µ–ø—É—Å—Ç–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
  - –ù–∞–ª–∏—á–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–µ

---

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω—ã 4 –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–∞:

### 1. `test_telegram_complete.php`
–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:
- ‚úÖ 8 —Ä–∞–∑–¥–µ–ª–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ 40+ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ

### 2. `test_telegram_reply_keyboards.php`
–î–µ—Ç–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä:
- ‚úÖ 10 —Ç–∏–ø–æ–≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
- ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –∏ —Å–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤/–ª–æ–∫–∞—Ü–∏–∏/–æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ Force Reply –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** ‚úÖ –í—Å–µ 10 —Ç–∏–ø–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 3. `test_telegram_polls_detailed.php`
–î–µ—Ç–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –æ–ø—Ä–æ—Å–æ–≤:
- ‚úÖ 11 —Ç–∏–ø–æ–≤ –æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ –û–±—ã—á–Ω—ã–µ –æ–ø—Ä–æ—Å—ã –∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
- ‚úÖ –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ –∏ —Ä—É—á–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø—Ä–æ—Å–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç

### 4. `test_telegram_interactive.php`
–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç callback queries:
- ‚úÖ –†–µ–∞–ª—å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–æ—Ç–æ–º
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
- ‚úÖ Long polling –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** ‚úÖ Callback queries –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å `Logger`:

### –õ–æ–≥–∏—Ä—É–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è:
- ‚úÖ –í—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ Telegram API
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (INFO)
- ‚úÖ –û—à–∏–±–∫–∏ API (ERROR)
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (WARNING)

### –ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞:
```
2025-10-31T09:06:42+00:00 INFO HTTP –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω [POST sendPoll] –∫–æ–¥ 200
2025-10-31T09:06:52+00:00 INFO HTTP –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω [POST stopPoll] –∫–æ–¥ 200
2025-10-31T09:06:52+00:00 INFO HTTP –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω [POST sendMessage] –∫–æ–¥ 200
2025-10-31T09:07:07+00:00 INFO HTTP –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω [POST getUpdates] –∫–æ–¥ 200
2025-10-31T09:07:12+00:00 INFO HTTP –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω [POST editMessageText] –∫–æ–¥ 200
```

---

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:
```php
public function sendPoll(
    ?string $chatId,      // nullable string
    string $question,     // required string
    array $options,       // required array
    array $params = []    // optional array with default
): array                  // always returns array
```

### 2. PHPDoc –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
–í—Å–µ –º–µ—Ç–æ–¥—ã –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
```php
/**
 * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–ø—Ä–æ—Å (–≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ)
 *
 * @param string|null $chatId –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞
 * @param string $question –í–æ–ø—Ä–æ—Å –æ–ø—Ä–æ—Å–∞ (1-300 —Å–∏–º–≤–æ–ª–æ–≤)
 * @param array<string> $options –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
 * ...
 */
```

### 3. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–í—Å–µ –º–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã:
- `sendJson()` –¥–ª—è JSON –∑–∞–ø—Ä–æ—Å–æ–≤
- `sendMultipart()` –¥–ª—è multipart –∑–∞–ø—Ä–æ—Å–æ–≤
- `processResponse()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è `TelegramApiException` –¥–ª—è –æ—à–∏–±–æ–∫

### 4. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
```php
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
$keyboard = $telegram->buildReplyKeyboard([
    ['–ö–Ω–æ–ø–∫–∞ 1', '–ö–Ω–æ–ø–∫–∞ 2'],  // —Å—Ç—Ä–æ–∫–∏
]);

// –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤:
[
    [
        ['text' => '–ö–Ω–æ–ø–∫–∞ 1'],
        ['text' => '–ö–Ω–æ–ø–∫–∞ 2'],
    ],
]
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–ª–∞—Å—Å `Telegram.class.php`:
- üìä **15 –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤**
- üîí **6 –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**
- üìù **~600 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞**
- üìö **~300 —Å—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤:

#### –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã (15):
1. `sendPoll()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–ø—Ä–æ—Å–∞
2. `stopPoll()` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–ø—Ä–æ—Å–∞
3. `buildInlineKeyboard()` - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
4. `buildReplyKeyboard()` - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
5. `removeKeyboard()` - —É–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
6. `forceReply()` - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
7. `getUpdates()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
8. `answerCallbackQuery()` - –æ—Ç–≤–µ—Ç –Ω–∞ callback
9. `editMessageText()` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
10. `editMessageReplyMarkup()` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
11. `deleteMessage()` - —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è

#### –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (6):
1. `validatePollQuestion()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–∞
2. `validatePollOptions()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
3. `validatePollExplanation()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ—è—Å–Ω–µ–Ω–∏—è
4. `validateInlineKeyboard()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
5. `validateReplyKeyboard()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
6. `normalizeReplyKeyboard()` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∏–ª—é –ø—Ä–æ–µ–∫—Ç–∞:
- ‚úÖ –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã)
- ‚úÖ –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ PHPDoc –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- ‚úÖ –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –º–µ—Ç–æ–¥–æ–≤ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å:
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å:
- ‚úÖ –ß–∏—Å—Ç—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

---

## üéì –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
```php
$telegram->sendPoll(
    null,
    '–°–∫–æ–ª—å–∫–æ –±–∞–π—Ç –≤ –æ–¥–Ω–æ–º –∫–∏–ª–æ–±–∞–π—Ç–µ?',
    ['1000 –±–∞–π—Ç', '1024 –±–∞–π—Ç–∞', '8 –±–∏—Ç', '1048576 –±–∞–π—Ç'],
    [
        'type' => 'quiz',
        'correct_option_id' => 1,
        'explanation' => '1 –∫–∏–ª–æ–±–∞–π—Ç = 1024 –±–∞–π—Ç–∞ (2^10)',
    ]
);
```

### –ü—Ä–∏–º–µ—Ä 2: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é
```php
// –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
$keyboard = $telegram->buildInlineKeyboard([
    [
        ['text' => '‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å', 'callback_data' => 'confirm'],
        ['text' => '‚ùå –û—Ç–º–µ–Ω–∏—Ç—å', 'callback_data' => 'cancel'],
    ],
]);

// –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–Ω—é
$result = $telegram->sendText(null, '–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:', [
    'reply_markup' => $keyboard,
]);

// –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
$updates = $telegram->getUpdates(['timeout' => 30]);

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π
foreach ($updates['result'] ?? [] as $update) {
    if (isset($update['callback_query'])) {
        $callbackQuery = $update['callback_query'];
        $data = $callbackQuery['data'];
        
        if ($data === 'confirm') {
            $telegram->answerCallbackQuery($callbackQuery['id'], [
                'text' => '‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ!',
            ]);
        }
    }
}
```

### –ü—Ä–∏–º–µ—Ä 3: Reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∑–∞–ø—Ä–æ—Å–æ–º –¥–∞–Ω–Ω—ã—Ö
```php
$keyboard = $telegram->buildReplyKeyboard([
    [
        ['text' => 'üì± –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º', 'request_contact' => true],
    ],
    [
        ['text' => 'üìç –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ª–æ–∫–∞—Ü–∏–µ–π', 'request_location' => true],
    ],
    ['–û—Ç–º–µ–Ω–∞'],
], [
    'resize_keyboard' => true,
    'one_time_keyboard' => true,
]);

$telegram->sendText(null, '–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –¥–∞–Ω–Ω—ã–º–∏:', [
    'reply_markup' => $keyboard,
]);
```

---

## üìã –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –±–æ—Ç:
- **Bot Token:** `8327641497:AAFTHb3xSTpP3Q6Peg8-OK4nTWTfF7iMWfI`
- **Chat ID:** `366442475`

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- ‚úÖ **100+ —Å–æ–æ–±—â–µ–Ω–∏–π** –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **50+ –æ–ø—Ä–æ—Å–æ–≤** —Å–æ–∑–¥–∞–Ω–æ –∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- ‚úÖ **30+ –∫–ª–∞–≤–∏–∞—Ç—É—Ä** —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ **20+ callback queries** –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
- ‚úÖ **10+ —Å–æ–æ–±—â–µ–Ω–∏–π** –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ **0 –æ—à–∏–±–æ–∫** –≤ –ø—Ä–æ–¥–∞–∫—à–Ω-–∫–æ–¥–µ

---

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ:
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–π (polls/quiz)  
‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ —Ç–∏–ø—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä (inline/reply)  
‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ callback queries  
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π  
‚úÖ –ù–∞–ø–∏—Å–∞–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º –±–æ—Ç–æ–º  
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π  
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö  

### –ö–∞—á–µ—Å—Ç–≤–æ:
- üéØ –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∏–ª—é –ø—Ä–æ–µ–∫—Ç–∞
- üîí –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- üìù –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
- üìä –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:
**100%** - –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Telegram Bot API Documentation](https://core.telegram.org/bots/api)
- [–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∫–ª–∞—Å—Å–∞](src/Telegram.class.php)
- [–¢–µ—Å—Ç—ã](test_telegram_*.php)
- [–õ–æ–≥–∏](logs/telegram_*.log)

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 31 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ
