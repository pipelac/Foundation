2025-10-30T20:07:54+00:00 INFO === Инициализация полного тестирования всех методов === {}
2025-10-30T20:07:54+00:00 INFO HTTP запрос выполнен [POST chat/completions] код 200 {"method":"POST","uri":"chat/completions","status_code":200,"duration":0.405,"body_size":530,"content_type":"application/json"}
2025-10-30T20:07:54+00:00 INFO ✓ OpenRouter::text2text() - успешно {"model":"openai/gpt-3.5-turbo","prompt":"Say \"Hello World\"","response":"Hello World"}
2025-10-30T20:07:55+00:00 INFO HTTP потоковый запрос выполнен [POST chat/completions] код 200, получено 5211 байт {"method":"POST","uri":"chat/completions","status_code":200,"bytes_received":5211,"duration":0.578}
2025-10-30T20:07:55+00:00 INFO ✓ OpenRouter::textStream() - успешно {"model":"openai/gpt-3.5-turbo","chunks_count":16,"response":"1, 2, 3, 4, 5"}
2025-10-30T20:07:57+00:00 INFO HTTP запрос выполнен [POST chat/completions] код 200 {"method":"POST","uri":"chat/completions","status_code":200,"duration":2.543,"body_size":813,"content_type":"application/json"}
2025-10-30T20:07:57+00:00 INFO ✓ OpenRouter::image2text() - успешно {"model":"openai/gpt-4o","image_url":"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png","description":"This is the logo for GitHub. It features an octocat, which is a cartoon character that combines a cat and an octopus. GitHub is a platform for version control and collaboration, allowing multiple people to work together on projects."}
2025-10-30T20:07:57+00:00 WARNING HTTP запрос выполнен [POST images/generations] код 405 {"method":"POST","uri":"images/generations","status_code":405,"duration":0.057,"body_size":0,"content_type":"text/html; charset=utf-8"}
2025-10-30T20:07:57+00:00 ERROR Сервер OpenRouter вернул ошибку {"status_code":405,"endpoint":"/images/generations","response":""}
2025-10-30T20:07:57+00:00 ERROR ✗ OpenRouter::text2image() - ошибка: Сервер вернул код ошибки {"exception_class":"App\\Component\\Exception\\OpenRouterApiException","trace":"#0 /home/engine/project/src/OpenRouter.class.php(132): App\\Component\\OpenRouter->sendRequest()\n#1 /home/engine/project/tests/Integration/OpenRouterCompleteTest.php(213): App\\Component\\OpenRouter->text2image()\n#2 /home/engine/project/tests/Integration/OpenRouterCompleteTest.php(65): OpenRouterCompleteTest->testText2Image()\n#3 /home/engine/project/tests/Integration/OpenRouterCompleteTest.php(425): OpenRouterCompleteTest->runAllTests()\n#4 {main}"}
2025-10-30T20:08:02+00:00 WARNING HTTP запрос выполнен [POST chat/completions] код 400 {"method":"POST","uri":"chat/completions","status_code":400,"duration":4.086,"body_size":251,"content_type":"application/json"}
2025-10-30T20:08:02+00:00 ERROR Сервер OpenRouter вернул ошибку {"status_code":400,"endpoint":"/chat/completions","response":"{\"error\":{\"message\":\"Provider returned error\",\"code\":400,\"metadata\":{\"raw\":\"{\\\"error\\\":{\\\"code\\\":\\\"BadRequest\\\",\\\"message\\\":\\\"Invalid image data.\\\",\\\"param\\\":null,\\\"type\\\":null}}\",\"provider_name\":\"Azure\"}},\"user_id\":\"user_2uzYK4r5bBdyFPv9IXa9E4YSycG\"}"}
2025-10-30T20:08:02+00:00 ERROR ✗ OpenRouter::pdf2text() - ошибка: Сервер вернул код ошибки {"exception_class":"App\\Component\\Exception\\OpenRouterApiException","trace":"#0 /home/engine/project/src/OpenRouter.class.php(229): App\\Component\\OpenRouter->sendRequest()\n#1 /home/engine/project/tests/Integration/OpenRouterCompleteTest.php(256): App\\Component\\OpenRouter->pdf2text()\n#2 /home/engine/project/tests/Integration/OpenRouterCompleteTest.php(68): OpenRouterCompleteTest->testPdf2Text()\n#3 /home/engine/project/tests/Integration/OpenRouterCompleteTest.php(425): OpenRouterCompleteTest->runAllTests()\n#4 {main}"}
2025-10-30T20:08:02+00:00 WARNING HTTP запрос выполнен [POST chat/completions] код 400 {"method":"POST","uri":"chat/completions","status_code":400,"duration":0.266,"body_size":380,"content_type":"application/json"}
2025-10-30T20:08:02+00:00 ERROR Сервер OpenRouter вернул ошибку {"status_code":400,"endpoint":"/chat/completions","response":"{\"error\":{\"message\":\"Provider returned error\",\"code\":400,\"metadata\":{\"raw\":\"{\\n  \\\"error\\\": {\\n    \\\"message\\\": \\\"This model requires that either input content or output modality contain audio.\\\",\\n    \\\"type\\\": \\\"invalid_request_error\\\",\\n    \\\"param\\\": \\\"model\\\",\\n    \\\"code\\\": \\\"invalid_value\\\"\\n  }\\n}\",\"provider_name\":\"OpenAI\"}},\"user_id\":\"user_2uzYK4r5bBdyFPv9IXa9E4YSycG\"}"}
2025-10-30T20:08:02+00:00 ERROR ✗ OpenRouter::audio2text() - ошибка: Сервер вернул код ошибки {"exception_class":"App\\Component\\Exception\\OpenRouterApiException","trace":"#0 /home/engine/project/src/OpenRouter.class.php(283): App\\Component\\OpenRouter->sendRequest()\n#1 /home/engine/project/tests/Integration/OpenRouterCompleteTest.php(297): App\\Component\\OpenRouter->audio2text()\n#2 /home/engine/project/tests/Integration/OpenRouterCompleteTest.php(71): OpenRouterCompleteTest->testAudio2Text()\n#3 /home/engine/project/tests/Integration/OpenRouterCompleteTest.php(425): OpenRouterCompleteTest->runAllTests()\n#4 {main}"}
2025-10-30T20:08:02+00:00 INFO === Тестирование завершено === {}
2025-10-30T20:08:02+00:00 INFO Успешно: 3/6 (50%) {}
2025-10-30T20:10:30+00:00 INFO === Инициализация полного тестирования всех методов === {}
2025-10-30T20:10:31+00:00 INFO HTTP запрос выполнен [POST chat/completions] код 200 {"method":"POST","uri":"chat/completions","status_code":200,"duration":0.511,"body_size":530,"content_type":"application/json"}
2025-10-30T20:10:31+00:00 INFO ✓ OpenRouter::text2text() - успешно {"model":"openai/gpt-3.5-turbo","prompt":"Say \"Hello World\"","response":"Hello World"}
2025-10-30T20:10:32+00:00 INFO HTTP потоковый запрос выполнен [POST chat/completions] код 200, получено 5211 байт {"method":"POST","uri":"chat/completions","status_code":200,"bytes_received":5211,"duration":0.596}
2025-10-30T20:10:32+00:00 INFO ✓ OpenRouter::textStream() - успешно {"model":"openai/gpt-3.5-turbo","chunks_count":16,"response":"1, 2, 3, 4, 5"}
2025-10-30T20:10:34+00:00 INFO HTTP запрос выполнен [POST chat/completions] код 200 {"method":"POST","uri":"chat/completions","status_code":200,"duration":2.755,"body_size":752,"content_type":"application/json"}
2025-10-30T20:10:34+00:00 INFO ✓ OpenRouter::image2text() - успешно {"model":"openai/gpt-4o","image_url":"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png","description":"This is the GitHub logo, which features a stylized octocat. GitHub is a platform for version control and collaboration, used primarily for software development."}
2025-10-30T20:10:40+00:00 INFO HTTP запрос выполнен [POST chat/completions] код 200 {"method":"POST","uri":"chat/completions","status_code":200,"duration":5.725,"body_size":349604,"content_type":"application/json"}
2025-10-30T20:10:40+00:00 INFO ✓ OpenRouter::text2image() - успешно {"model":"google/gemini-2.5-flash-image","prompt":"Draw a simple red circle","image_length":0,"is_base64":false}
2025-10-30T20:10:40+00:00 INFO === Тестирование завершено === {}
2025-10-30T20:10:40+00:00 INFO Успешно: 4/4 (100%) {}
