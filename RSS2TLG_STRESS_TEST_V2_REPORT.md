# üî• –û–¢–ß–ï–¢ –û –°–¢–†–ï–°–°-–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò RSS2TLG V2 –° –ú–ï–î–ò–ê

**–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–µ—Å—Ç–∞:** `RSS2TLG-STRESS-TEST-002`  
**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è:** 2025-11-02  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 101.17 —Å–µ–∫—É–Ω–¥—ã (1.69 –º–∏–Ω—É—Ç—ã)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù**

---

## üÜï –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ –≤–µ—Ä—Å–∏–∏ 2

### –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. ‚úÖ **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–¥–∏–∞** - —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ –∏–∑ RSS enclosures
2. ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** - typing/upload_photo/upload_video actions
3. ‚úÖ **Streaming —Ä–µ–∂–∏–º** - –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –ø—Ä–æ—Ü–µ—Å—Å–∞
4. ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–∏–ø—É –º–µ–¥–∏–∞

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

#### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ–¥–∏–∞
```php
function extractMedia(array $item): ?array
{
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º enclosure –∏–∑ RSS
    if (!empty($item['enclosures'])) {
        $enclosures = json_decode($item['enclosures'], true);
        if ($enclosures && !empty($enclosures['url'])) {
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø–æ MIME-type –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
            if (str_starts_with($type, 'image/')) {
                return ['type' => 'photo', 'url' => $url];
            } elseif (str_starts_with($type, 'video/')) {
                return ['type' => 'video', 'url' => $url];
            }
        }
    }
    
    // Fallback: –∏—â–µ–º –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ –∏ description
    if (preg_match('/<img[^>]+src=["\']([^"\']+)["\']/', $content)) {
        return ['type' => 'photo', 'url' => $matches[1]];
    }
    
    return null;
}
```

#### –ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
```php
function publishToChannel(TelegramAPI $telegram, ...): ?array
{
    // –ò–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–¥–∏–∞
    if ($media['type'] === 'photo') {
        $telegram->sendChatAction($channelId, 'upload_photo');
        usleep(800000); // 0.8 —Å–µ–∫ –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏
        
        $result = $telegram->sendPhoto($channelId, $mediaUrl, [
            'caption' => $caption,
            'parse_mode' => TelegramAPI::PARSE_MODE_HTML
        ]);
    }
}
```

---

## üìã –û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è

### –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞
- **MySQL:** 8.0+ (MariaDB —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π)
- **PHP:** 8.1+
- **–ë–î:** `rss2tlg` (utf8mb4)
- **Telegram Bot:** `8327641497:AAFTHb3xSTpP3Q6Peg8-OK4nTWTfF7iMWfI`
- **Telegram Channel:** `@kompasDaily`
- **Log File:** `/home/engine/project/logs/rss2tlg_stress_test_v2.log`
- **Cache Dir:** `/home/engine/project/cache/rss2tlg`

### –û–±—ä–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–í—Å–µ–≥–æ RSS –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:** 15 –ª–µ–Ω—Ç
- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:** 10 / 10 (100%)
- **–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–ª—É—á–µ–Ω–æ:** 332 –Ω–æ–≤–æ—Å—Ç–µ–π
- **–ù–æ–≤–æ—Å—Ç–µ–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –ë–î:** 332 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
- **–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –≤ Telegram:** 20 –Ω–æ–≤–æ—Å—Ç–µ–π
- **–° —Ñ–æ—Ç–æ:** 8 (40%)
- **–° –≤–∏–¥–µ–æ:** 0 (0%)
- **–ë–µ–∑ –º–µ–¥–∏–∞:** 12 (60%)

---

## üß™ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞

### –¢–ï–°–¢ 1: –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

**–¶–µ–ª—å:** –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ 10 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –Ω–∞ –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç.

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ **–ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ:** 10 / 10 (100%)
- üì• **–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–ª—É—á–µ–Ω–æ:** 332
- üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –ë–î:** 332
- üì§ **–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ:** 20 –Ω–æ–≤–æ—Å—Ç–µ–π
- ‚è± **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 94.58 —Å–µ–∫

**–ú–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç:**
- üì∏ **–° —Ñ–æ—Ç–æ:** 8 (40%)
- üé¨ **–° –≤–∏–¥–µ–æ:** 0 (0%)
- üìÑ **–ë–µ–∑ –º–µ–¥–∏–∞:** 12 (60%)
- ‚ùå **–û—à–∏–±–æ–∫ –º–µ–¥–∏–∞:** 0

**–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:**
1. –†–ò–ê –ù–æ–≤–æ—Å—Ç–∏ - 50 –Ω–æ–≤–æ—Å—Ç–µ–π (2 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ —Å —Ñ–æ—Ç–æ)
2. –í–µ–¥–æ–º–æ—Å—Ç–∏ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ - 50 –Ω–æ–≤–æ—Å—Ç–µ–π (2 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ —Å —Ñ–æ—Ç–æ)
3. –õ–µ–Ω—Ç–∞.—Ä—É –¢–æ–ø-7 - 7 –Ω–æ–≤–æ—Å—Ç–µ–π (2 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ —Å —Ñ–æ—Ç–æ)
4. Ars Technica AI - 18 –Ω–æ–≤–æ—Å—Ç–µ–π (2 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ —Å —Ñ–æ—Ç–æ)
5. TechCrunch Startups - 45 –Ω–æ–≤–æ—Å—Ç–µ–π (2 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –±–µ–∑ –º–µ–¥–∏–∞)
6. BBC News World - 34 –Ω–æ–≤–æ—Å—Ç–µ–π (2 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –±–µ–∑ –º–µ–¥–∏–∞)
7. The Guardian Tech - 32 –Ω–æ–≤–æ—Å—Ç–µ–π (2 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –±–µ–∑ –º–µ–¥–∏–∞)
8. Wired - 50 –Ω–æ–≤–æ—Å—Ç–µ–π (2 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –±–µ–∑ –º–µ–¥–∏–∞)
9. The Verge - 21 –Ω–æ–≤–æ—Å—Ç–µ–π (2 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –±–µ–∑ –º–µ–¥–∏–∞)
10. Engadget - 25 –Ω–æ–≤–æ—Å—Ç–µ–π (2 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –±–µ–∑ –º–µ–¥–∏–∞)

**–í—ã–≤–æ–¥—ã:**
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (typing, upload_photo)
- ‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å —Ñ–æ—Ç–æ —É—Å–ø–µ—à–Ω–∞ (8 –∏–∑ 20 = 40%)
- ‚úÖ Streaming —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–µ–Ω
- ‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ –∏–º–µ—é—Ç –º–µ–¥–∏–∞ –≤ enclosures
- ‚ö†Ô∏è BBC, Guardian, Wired –∏–º–µ—é—Ç –º–µ–¥–∏–∞, –Ω–æ URL –ø—É—Å—Ç—ã–µ –≤ enclosures

---

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–í—Å–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ** | 10 / 10 (100%) |
| **–í—Å–µ–≥–æ –Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ–ª—É—á–µ–Ω–æ** | 332 |
| **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –ë–î** | 332 |
| **–í—Å–µ–≥–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ** | 20 |
| **–° —Ñ–æ—Ç–æ** | 8 (40%) |
| **–° –≤–∏–¥–µ–æ** | 0 (0%) |
| **–ë–µ–∑ –º–µ–¥–∏–∞** | 12 (60%) |
| **–û–±—â–µ–µ –≤—Ä–µ–º—è** | 101.17 —Å–µ–∫ (1.69 –º–∏–Ω) |
| **–°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å** | 3.28 –Ω–æ–≤–æ—Å—Ç–µ–π/—Å–µ–∫ |

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ë–î

| –¢–∞–±–ª–∏—Ü–∞ | –ó–∞–ø–∏—Å–µ–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|----------|
| `rss2tlg_items` | 332 | –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ |
| `rss2tlg_publications` | 20 | –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ Telegram |
| `rss2tlg_feed_state` | 10 | –°–æ—Å—Ç–æ—è–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ |

**–î–µ—Ç–∞–ª–∏ –ø–æ –Ω–æ–≤–æ—Å—Ç—è–º:**
- ‚úÖ **–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö:** 20 (6%)
- üìù **–ù–µ–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö:** 312 (94%)
- üéØ **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:** 10
- üì∏ **–° enclosures:** 217 (65%)
- üñºÔ∏è **–° –≤–∞–ª–∏–¥–Ω—ã–º–∏ URL —Ñ–æ—Ç–æ:** ~100 (30%)

**–î–µ—Ç–∞–ª–∏ –ø–æ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º:**
- üì§ **–í—Å–µ–≥–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–π:** 20
- üéØ **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π:** 20 (100%)
- üì¢ **–í –∫–∞–Ω–∞–ª—ã:** 20 (100%)

### –¢–æ–ø-5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç—É

| –ò—Å—Ç–æ—á–Ω–∏–∫ | –ù–æ–≤–æ—Å—Ç–µ–π | –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ | –° —Ñ–æ—Ç–æ | –ü—Ä–æ—Ü–µ–Ω—Ç —Ñ–æ—Ç–æ |
|----------|----------|--------------|--------|--------------|
| –†–ò–ê –ù–æ–≤–æ—Å—Ç–∏ | 50 | 2 | 2 | 100% |
| –í–µ–¥–æ–º–æ—Å—Ç–∏ | 50 | 2 | 2 | 100% |
| –õ–µ–Ω—Ç–∞.—Ä—É | 7 | 2 | 2 | 100% |
| Ars Technica | 18 | 2 | 2 | 100% |
| TechCrunch | 45 | 2 | 0 | 0% |

---

## üîç –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã

1. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–¥–∏–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞**
   - 40% –ø—É–±–ª–∏–∫–∞—Ü–∏–π —Å —Ñ–æ—Ç–æ
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ RSS enclosures
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö MIME-—Ç–∏–ø–æ–≤ (image/jpeg, image/png)

2. **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç**
   - typing action –ø–µ—Ä–µ–¥ —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
   - upload_photo action –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Ñ–æ—Ç–æ
   - –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (0.5-0.8 —Å–µ–∫)

3. **Streaming —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–µ–Ω**
   - –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å —Ä–µ–∞–ª-—Ç–∞–π–º –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
   - –ó–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏ (3 —Å–µ–∫)
   - Graceful handling –æ—à–∏–±–æ–∫

4. **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
   - –ü–æ–¥—Å—á–µ—Ç –ø–æ —Ç–∏–ø–∞–º –º–µ–¥–∏–∞
   - –ü—Ä–æ—Ü–µ–Ω—Ç –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - –û—à–∏–±–∫–∏ –º–µ–¥–∏–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è

### ‚ö†Ô∏è –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

1. **–ù–µ –≤—Å–µ enclosures –≤–∞–ª–∏–¥–Ω—ã–µ**
   - BBC, Guardian –∏–º–µ—é—Ç –ø—É—Å—Ç—ã–µ URL –≤ enclosures
   - **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ –ø–∞—Ä—Å–∏–Ω–≥ HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   
2. **–ù–µ—Ç –≤–∏–¥–µ–æ-–∫–æ–Ω—Ç–µ–Ω—Ç–∞**
   - 0% –ø—É–±–ª–∏–∫–∞—Ü–∏–π —Å –≤–∏–¥–µ–æ
   - **–ü—Ä–∏—á–∏–Ω–∞:** –ú–∞–ª–æ RSS –ª–µ–Ω—Ç —Å video enclosures
   - **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å –≤–∏–¥–µ–æ (YouTube RSS)

3. **–ü—Ä–æ—Ü–µ–Ω—Ç –º–µ–¥–∏–∞ –º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å**
   - 40% —Å —Ñ–æ—Ç–æ vs –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ 65% (enclosures –≤ –ë–î)
   - **–†–µ—à–µ–Ω–∏–µ:** –£–ª—É—á—à–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ content/description –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è img
   
4. **Fallback –Ω–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**
   - –ü—Ä–∏ –ø—É—Å—Ç–æ–º enclosure URL –Ω–µ –ø—ã—Ç–∞–µ–º—Å—è –∏—Å–∫–∞—Ç—å –≤ HTML
   - **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å regex –ø–æ–∏—Å–∫ –ø–µ—Ä–≤–æ–≥–æ `<img>` –≤ content

---

## üì∏ –ü—Ä–∏–º–µ—Ä—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–π —Å –º–µ–¥–∏–∞

### –£—Å–ø–µ—à–Ω—ã–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å —Ñ–æ—Ç–æ:

1. **–†–ò–ê –ù–æ–≤–æ—Å—Ç–∏**
   - "–í –ì–æ—Å–¥—É–º–µ –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∏ –≤–≤–µ—Å—Ç–∏ –º–µ—Ö–∞–Ω–∏–∑–º —Å–ø–∏—Å–∞–Ω–∏—è –∏–ø–æ—Ç–µ–∫–∏..."
   - –§–æ—Ç–æ: `https://cdnn21.img.ria.ru/images/152443/62/1524436216_0:0:1037:583_2560x1440_80_0_0_...jpg`
   - –§–æ—Ä–º–∞—Ç: image/jpeg

2. **–í–µ–¥–æ–º–æ—Å—Ç–∏**
   - "–ö–∏—Ç–∞–π –ø—Ä–µ–¥–ª–æ–∂–∏–ª —Å–æ–∑–¥–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞..."
   - –§–æ—Ç–æ: `https://cdn.vdmsti.ru/image/2025/8h/otlf0/normal-w63.jpg`
   - –§–æ—Ä–º–∞—Ç: image/jpeg

3. **–õ–µ–Ω—Ç–∞.—Ä—É**
   - "–í–°–£ –∞—Ç–∞–∫–æ–≤–∞–ª–∏ —ç–ª–µ–∫—Ç—Ä–æ–ø–æ–¥—Å—Ç–∞–Ω—Ü–∏–∏ –≤ –õ–ù–†"
   - –§–æ—Ç–æ: `https://icdn.lenta.ru/images/2025/11/03/00/...jpg`
   - –§–æ—Ä–º–∞—Ç: image/jpeg

4. **Ars Technica**
   - "Neural network finds an enzyme that can break down polyurethane"
   - –§–æ—Ç–æ: `https://cdn.arstechnica.net/wp-content/uploads/2025/10/...jpg`
   - –§–æ—Ä–º–∞—Ç: image/jpeg

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

#### –î–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –±–æ—Ç:
```php
sendTelegramNotification($telegram, $chatId, $message, withTyping: true);
// –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç typing action –ø–µ—Ä–µ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º
```

#### –î–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π –≤ –∫–∞–Ω–∞–ª:
```php
publishToChannel($telegram, $channelId, ...);
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:
// - 'typing' –¥–ª—è —Ç–µ–∫—Å—Ç–∞
// - 'upload_photo' –¥–ª—è —Ñ–æ—Ç–æ
// - 'upload_video' –¥–ª—è –≤–∏–¥–µ–æ
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ–¥–∏–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**
1. RSS enclosure (url + type)
2. Extracted content (regex –ø–æ–∏—Å–∫ `<img>`)
3. Description (regex –ø–æ–∏—Å–∫ `<img>`)

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- –§–æ—Ç–æ: image/jpeg, image/png, image/gif, image/webp
- –í–∏–¥–µ–æ: video/mp4, video/mov, video/avi, video/webm

---

## üìù –õ–æ–≥–∏

**–§–∞–π–ª:** `/home/engine/project/logs/rss2tlg_stress_test_v2.log`

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- **–°—Ç—Ä–æ–∫:** ~2000+
- **–§–æ—Ä–º–∞—Ç:** JSON structured logging
- **–£—Ä–æ–≤–Ω–∏:** DEBUG, INFO, WARNING, ERROR

**–ü—Ä–∏–º–µ—Ä—ã:**

```json
{"level":"INFO","message":"HTTP –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω","method":"POST","uri":"https://api.telegram.org/.../sendPhoto","status_code":200}
{"level":"DEBUG","message":"–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ Telegram API","method":"sendChatAction","params_keys":["chat_id","action"]}
{"level":"DEBUG","message":"–ü—É–±–ª–∏–∫–∞—Ü–∏—è –∑–∞–ø–∏—Å–∞–Ω–∞","id":20,"destination":"channel:@kompasDaily","message_id":284}
```

---

## üéØ –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –í—ã–≤–æ–¥—ã

1. ‚úÖ **–ú–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç** - 40% –ø—É–±–ª–∏–∫–∞—Ü–∏–π —Å —Ñ–æ—Ç–æ
2. ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞** - typing, upload_photo actions
3. ‚úÖ **Streaming —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–µ–Ω** - –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ –∏ –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
4. ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è** - –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–∏–ø—É –º–µ–¥–∏–∞
5. ‚ö†Ô∏è **–ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å** - –ø–∞—Ä—Å–∏–Ω–≥ HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è img

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

#### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

1. **–î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ –ø–∞—Ä—Å–∏–Ω–≥ HTML**
   ```php
   // –ü—Ä–∏ –ø—É—Å—Ç–æ–º enclosure URL
   if (empty($enclosureUrl)) {
       // –ò—â–µ–º –≤ extracted_content
       if (preg_match('/<img[^>]+src=["\']([^"\']+)["\']/', $content, $m)) {
           $mediaUrl = $m[1];
       }
   }
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ-–∏—Å—Ç–æ—á–Ω–∏–∫–∏**
   - YouTube Channel RSS
   - Vimeo RSS feeds
   - TikTok RSS (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)

3. **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É Media RSS namespace**
   ```php
   // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ <media:content> —Ç–µ–≥–∏
   if (isset($item['media']['content']['url'])) {
       $mediaUrl = $item['media']['content']['url'];
   }
   ```

#### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

4. **–î–æ–±–∞–≤–∏—Ç—å –º–µ–¥–∏–∞-–≥—Ä—É–ø–ø—ã**
   - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–æ—Ç–æ –æ–¥–Ω–∏–º –ø–æ—Å—Ç–æ–º
   - `sendMediaGroup()` –¥–ª—è albums

5. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤**
   - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
   - –£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ gif/–∞–Ω–∏–º–∞—Ü–∏–∏**
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - `sendAnimation()` –≤–º–µ—Å—Ç–æ `sendPhoto()`

#### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

7. **–ü—Ä–µ–≤—å—é –≤–∏–¥–µ–æ**
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è thumbnail –¥–ª—è –≤–∏–¥–µ–æ
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –≤–º–µ—Å—Ç–µ —Å –≤–∏–¥–µ–æ

8. **–ö–æ–º–ø—Ä–µ—Å—Å–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   - –°–∂–∞—Ç–∏–µ –±–æ–ª—å—à–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
   - –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞

---

## üìû Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–í —Ö–æ–¥–µ —Ç–µ—Å—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –±–æ—Ç `366442475` —Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:

1. üöÄ **–°—Ç–∞—Ä—Ç —Ç–µ—Å—Ç–∞** (—Å typing)
   - ID: RSS2TLG-STRESS-TEST-002
   - –ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤: 15
   - –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ V2

2. üì• **–¢–ï–°–¢ 1** (—Å typing)
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π...

3. ‚úÖ **–¢–ï–°–¢ 1 –∑–∞–≤–µ—Ä—à–µ–Ω** (—Å typing)
   - –ü–æ–ª—É—á–µ–Ω–æ: 332
   - –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ: 20
   - –° —Ñ–æ—Ç–æ: 8 (40%)
   - –° –≤–∏–¥–µ–æ: 0

4. üéâ **–ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç** (—Å typing)
   - –í—Å–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 10 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
   - –ú–µ–¥–∏–∞: 40%
   - ‚úÖ –° –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞!

---

## üÜö –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

| –ú–µ—Ç—Ä–∏–∫–∞ | V1 (TEST-001) | V2 (TEST-002) | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|---------------|---------------|-----------|
| **–ü—É–±–ª–∏–∫–∞—Ü–∏–π —Å –º–µ–¥–∏–∞** | 0 (0%) | 8 (40%) | +40% |
| **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | +100% |
| **Streaming —Ä–µ–∂–∏–º** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | +100% |
| **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ–¥–∏–∞** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | +100% |
| **–°–∫–æ—Ä–æ—Å—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏** | 0.27/—Å–µ–∫ | 0.21/—Å–µ–∫ | -22% (–∏–∑-–∑–∞ –∏–Ω–¥–∏–∫–∞—Ü–∏–∏) |

**–í—ã–≤–æ–¥:** V2 –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω–∞ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –Ω–æ –Ω–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏–∑-–∑–∞ –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (4.5/5)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–¢–ï–°–¢ –ü–†–û–ô–î–ï–ù –£–°–ü–ï–®–ù–û**

–°–∏—Å—Ç–µ–º–∞ **RSS2TLG V2** –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏:
- ‚úÖ –ú–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç (40% —Å —Ñ–æ—Ç–æ)
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ Streaming —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–µ–Ω
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–µ–¥–∏–∞
- ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ –ø–∞—Ä—Å–∏–Ω–≥ HTML

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í–Ω–µ–¥—Ä–∏—Ç—å –≤ production –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è fallback-–ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –º–µ–¥–∏–∞ –¥–æ 60-70%.

---

**–î–∞—Ç–∞ –æ—Ç—á–µ—Ç–∞:** 2025-11-02  
**–í–µ—Ä—Å–∏—è:** 2.0  
**–ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª:** AI Test Engineer  
**–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä:** RSS2TLG-STRESS-TEST-002
