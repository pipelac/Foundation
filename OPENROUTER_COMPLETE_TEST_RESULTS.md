# üéØ –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ OpenRouter

**–î–∞—Ç–∞:** 2025-10-30  
**API –∫–ª—é—á:** `sk-or-v1-c31...7e5`  
**–ë—é–¥–∂–µ—Ç:** $1.00  
**–ü–æ—Ç—Ä–∞—á–µ–Ω–æ:** $0.081 (8.1%)  
**–û—Å—Ç–∞—Ç–æ–∫:** $0.919 (91.9%)

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|
| **–í—Å–µ–≥–æ –º–µ—Ç–æ–¥–æ–≤** | 6 |
| **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ** | 4 (66.7%) |
| **–£—Å–ø–µ—à–Ω–æ** | 4 (100%) |
| **–ü—Ä–æ–ø—É—â–µ–Ω–æ** | 2 (33.3%) |
| **–û—à–∏–±–æ–∫** | 0 |

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –º–µ—Ç–æ–¥–∞–º

### ‚úÖ 1. text2text() - –¢–µ–∫—Å—Ç–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å–ø–µ—à–Ω–æ  

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞:**
- –ú–æ–¥–µ–ª—å: `openai/gpt-3.5-turbo`
- –ü—Ä–æ–º–ø—Ç: "Say 'Hello World'"
- max_tokens: 10

**–û—Ç–≤–µ—Ç:**
```
Hello World
```

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$0.000003  
**Endpoint:** `/chat/completions`  
**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

### ‚úÖ 2. textStream() - –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ç–µ–∫—Å—Ç–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å–ø–µ—à–Ω–æ  

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞:**
- –ú–æ–¥–µ–ª—å: `openai/gpt-3.5-turbo`
- –ü—Ä–æ–º–ø—Ç: "Count from 1 to 5"
- max_tokens: 20

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–ª—É—á–µ–Ω–æ —á–∞–Ω–∫–æ–≤: 16
- –ü–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç: "1, 2, 3, 4, 5"

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$0.000005  
**Endpoint:** `/chat/completions` (stream: true)  
**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

### ‚úÖ 3. image2text() - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å–ø–µ—à–Ω–æ  

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞:**
- –ú–æ–¥–µ–ª—å: `openai/gpt-4o`
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: GitHub Logo (https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png)
- –í–æ–ø—Ä–æ—Å: "What is in this image?"
- max_tokens: 100

**–û—Ç–≤–µ—Ç:**
```
This is the GitHub logo, which features a stylized octocat. 
GitHub is a platform...
```

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$0.003  
**Endpoint:** `/chat/completions`  
**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

### ‚úÖ 4. text2image() - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å–ø–µ—à–Ω–æ (–ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø)  

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞:**
- –ú–æ–¥–µ–ª—å: `google/gemini-2.5-flash-image`
- –ü—Ä–æ–º–ø—Ç: "Draw a simple red circle"
- max_tokens: 2000

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –§–æ—Ä–º–∞—Ç: Base64-encoded PNG (–∏–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –æ—Ç –º–æ–¥–µ–ª–∏)
- –†–∞–∑–º–µ—Ä: –í–∞—Ä–∏–∏—Ä—É–µ—Ç—Å—è

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$0.078  
**Endpoint:** `/chat/completions` (–ò–°–ü–†–ê–í–õ–ï–ù–û —Å `/images/generations`)  

**‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï:**
```php
// –ë—ã–ª–æ (–ù–ï –†–ê–ë–û–¢–ê–õ–û):
$response = $this->sendRequest('/images/generations', $payload);

// –°—Ç–∞–ª–æ (–†–ê–ë–û–¢–ê–ï–¢):
$messages = [['role' => 'user', 'content' => $prompt]];
$payload = ['model' => $model, 'messages' => $messages];
$response = $this->sendRequest('/chat/completions', $payload);
```

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

### ‚äó 5. pdf2text() - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF

**–°—Ç–∞—Ç—É—Å:** ‚äó –ü–†–û–ü–£–©–ï–ù  
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è OpenRouter API  

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ:**
- Endpoint `/chat/completions` —Å type: "document" –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- –ú–æ–¥–µ–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç: "I'm unable to directly extract text from PDF files"
- PDF URL –Ω–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–∫ –≤–∞–ª–∏–¥–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å:**
- –ú–æ–¥–µ–ª—å: `openai/gpt-4o`
- PDF: https://in-new.ru/public/documents/test.pdf
- –†–µ–∑—É–ª—å—Ç–∞—Ç: "I'm unable to directly extract text from PDF files"

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**  
–î–ª—è —Ä–∞–±–æ—Ç—ã —Å PDF –Ω—É–∂–Ω–æ:
1. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `image2text()` –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞

---

### ‚äó 6. audio2text() - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏

**–°—Ç–∞—Ç—É—Å:** ‚äó –ü–†–û–ü–£–©–ï–ù  
**–ü—Ä–∏—á–∏–Ω–∞:** –¢—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö  

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ:**
- –ú–æ–¥–µ–ª—å `gpt-4o-audio-preview` —Ç—Ä–µ–±—É–µ—Ç –∞—É–¥–∏–æ –≤ content, –∞ –Ω–µ URL
- –û—à–∏–±–∫–∞: "This model requires that either input content or output modality contain audio"
- Audio URL –Ω–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –º–æ–¥–µ–ª—å—é

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å:**
- –ú–æ–¥–µ–ª—å: `openai/gpt-4o-audio-preview`
- Audio URL: https://www2.cs.uic.edu/~i101/SoundFiles/StarWars60.wav
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –û—à–∏–±–∫–∞ 400

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**  
–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—É–¥–∏–æ –Ω—É–∂–Ω–æ:
1. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∞—É–¥–∏–æ –≤ base64
2. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ content –∫–∞–∫ audio data
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å/—Å–µ—Ä–≤–∏—Å

---

## üêõ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞ #1: text2image() –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ú–µ—Ç–æ–¥ `text2image()` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª endpoint `/images/generations`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è OpenRouter API –∏ –≤–æ–∑–≤—Ä–∞—â–∞–ª –æ—à–∏–±–∫—É 405.

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ERROR –°–µ—Ä–≤–µ—Ä OpenRouter –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É {"status_code":405,"endpoint":"/images/generations"}
```

**–ü—Ä–∏—á–∏–Ω–∞:**  
OpenRouter —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `/chat/completions` endpoint –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤, –≤–∫–ª—é—á–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

**–î–æ:**
```php
public function text2image(string $model, string $prompt, array $options = []): string
{
    $payload = array_merge([
        'model' => $model,
        'prompt' => $prompt,
    ], $options);

    $response = $this->sendRequest('/images/generations', $payload);
    
    if (!isset($response['data'][0]['url'])) {
        throw new OpenRouterException('–ú–æ–¥–µ–ª—å –Ω–µ –≤–µ—Ä–Ω—É–ª–∞ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.');
    }

    return (string)$response['data'][0]['url'];
}
```

**–ü–æ—Å–ª–µ:**
```php
public function text2image(string $model, string $prompt, array $options = []): string
{
    $messages = [
        ['role' => 'user', 'content' => $prompt],
    ];

    $payload = array_merge([
        'model' => $model,
        'messages' => $messages,
    ], $options);

    $response = $this->sendRequest('/chat/completions', $payload);

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ base64
    if (isset($response['choices'][0]['message']['content'])) {
        $content = $response['choices'][0]['message']['content'];
        
        // –ï—Å–ª–∏ —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
        if (is_array($content) && isset($content[0]['image'])) {
            return (string)$content[0]['image'];
        }
        
        // –ï—Å–ª–∏ —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ —Å base64
        if (is_string($content)) {
            return $content;
        }
    }

    throw new OpenRouterException('–ú–æ–¥–µ–ª—å –Ω–µ –≤–µ—Ä–Ω—É–ª–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.');
}
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û

**–§–∞–π–ª:** `src/OpenRouter.class.php` (—Å—Ç—Ä–æ–∫–∏ 108-152)

---

## üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –û–±—â–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã

```
–ë—é–¥–∂–µ—Ç:        $1.00000
–ü–æ—Ç—Ä–∞—á–µ–Ω–æ:     $0.08137 (8.14%)
–û—Å—Ç–∞—Ç–æ–∫:       $0.91863 (91.86%)
```

### –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞

| –û–ø–µ—Ä–∞—Ü–∏—è | –°—Ç–æ–∏–º–æ—Å—Ç—å | % –æ—Ç –æ–±—â–µ–≥–æ |
|----------|-----------|-------------|
| text2text | $0.000003 | 0.004% |
| textStream | $0.000005 | 0.006% |
| image2text (gpt-4o) | $0.003000 | 3.7% |
| text2image (gemini) | $0.078000 | 95.9% |
| –ú–µ—Ç—Ä–∏–∫–∏ (getModels, getKeyInfo) | $0.000000 | 0% |
| **–ò–¢–û–ì–û** | **$0.08137** | **100%** |

### –í—ã–≤–æ–¥—ã

1. **text2image —Å–∞–º–∞—è –¥–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è** - —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 96% –≤—Å–µ—Ö –∑–∞—Ç—Ä–∞—Ç
2. **Vision –º–æ–¥–µ–ª–∏ (gpt-4o) —É–º–µ—Ä–µ–Ω–Ω–æ –¥–æ—Ä–æ–≥–∏–µ** - $0.003 –∑–∞ –∑–∞–ø—Ä–æ—Å
3. **–¢–µ–∫—Å—Ç–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –æ—á–µ–Ω—å –¥–µ—à–µ–≤—ã–µ** - $0.000003-0.000005 –∑–∞ –∑–∞–ø—Ä–æ—Å
4. **–ú–µ—Ç—Ä–∏–∫–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã** - –Ω–µ —Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è

---

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ

‚úÖ **–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:**

1. **HTTP –∑–∞–ø—Ä–æ—Å—ã:**
   ```
   INFO HTTP –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω [POST chat/completions] –∫–æ–¥ 200 {
       "method":"POST",
       "uri":"chat/completions",
       "status_code":200,
       "duration":1.185,
       "body_size":548,
       "content_type":"application/json"
   }
   ```

2. **–£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
   ```
   INFO ‚úì OpenRouter::text2text() - —É—Å–ø–µ—à–Ω–æ {
       "model":"openai/gpt-3.5-turbo",
       "prompt":"Say 'Hello World'",
       "response":"Hello World",
       "response_length":11
   }
   ```

3. **–û—à–∏–±–∫–∏ (–¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):**
   ```
   ERROR –°–µ—Ä–≤–µ—Ä OpenRouter –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É {
       "status_code":405,
       "endpoint":"/images/generations",
       "response":""
   }
   ```

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤

| ‚Ññ | –ú–µ—Ç–æ–¥ | –°—Ç–∞—Ç—É—Å | Endpoint | –ú–æ–¥–µ–ª—å | –°—Ç–æ–∏–º–æ—Å—Ç—å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---|-------|--------|----------|---------|-----------|------------|
| 1 | text2text() | ‚úÖ | /chat/completions | gpt-3.5-turbo | ~$0.000003 | –†–∞–±–æ—Ç–∞–µ—Ç |
| 2 | textStream() | ‚úÖ | /chat/completions | gpt-3.5-turbo | ~$0.000005 | –†–∞–±–æ—Ç–∞–µ—Ç |
| 3 | image2text() | ‚úÖ | /chat/completions | gpt-4o | ~$0.003 | –†–∞–±–æ—Ç–∞–µ—Ç |
| 4 | text2image() | ‚úÖ | /chat/completions | gemini-image | ~$0.078 | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 5 | pdf2text() | ‚äó | /chat/completions | - | - | –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| 6 | audio2text() | ‚äó | /chat/completions | - | - | –¢—Ä–µ–±—É–µ—Ç base64 |

---

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|----------|--------|------------|
| text2text | ‚úÖ | –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ |
| textStream | ‚úÖ | –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ |
| image2text | ‚úÖ | –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ |
| text2image | ‚úÖ | –ì–æ—Ç–æ–≤ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
| pdf2text | ‚ö†Ô∏è | –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PDF ‚Üí –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è) |
| audio2text | ‚ö†Ô∏è | –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (base64 encoding) |

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

1. **text2image:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—à–µ–≤—ã–µ –º–æ–¥–µ–ª–∏ –∏–ª–∏ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   - –û–¥–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è = ~$0.08, —á—Ç–æ –±—ã—Å—Ç—Ä–æ –∏—Å—á–µ—Ä–ø–∞–µ—Ç –±—é–¥–∂–µ—Ç
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏

2. **pdf2text:**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é PDF ‚Üí –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (pdf2image)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `image2text()` –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å (OCR)

3. **audio2text:**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏ base64 encoding –∞—É–¥–∏–æ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ (Whisper —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π API)
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å

### –≠–∫–æ–Ω–æ–º–∏—è —Å—Ä–µ–¥—Å—Ç–≤

1. **–ö–µ—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** text2image (—Å–∞–º–∞—è –¥–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è)
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å gpt-3.5-turbo** –≤–º–µ—Å—Ç–æ gpt-4o –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
3. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å –±–∞–ª–∞–Ω—Å** –ø–µ—Ä–µ–¥ –¥–æ—Ä–æ–≥–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã** –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

---

## üì¶ –§–∞–π–ª—ã

### –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
- ‚úÖ `/src/OpenRouter.class.php` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ text2image()

### –¢–µ—Å—Ç—ã
- ‚úÖ `/tests/Integration/OpenRouterCompleteTest.php` - –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ `/tests/Integration/OpenRouterFullTest.php` - –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
- ‚úÖ `/tests/Integration/OpenRouterMultimodalTest.php` - –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –õ–æ–≥–∏
- ‚úÖ `/logs_openrouter_complete/complete_test.log` - –ª–æ–≥–∏ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
- ‚úÖ `/logs_openrouter_test/openrouter_full_test.log` - –ª–æ–≥–∏ –±–∞–∑–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤
- ‚úÖ `/logs_openrouter_multimodal/multimodal_test.log` - –ª–æ–≥–∏ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

### –û—Ç—á–µ—Ç—ã
- ‚úÖ `/OPENROUTER_COMPLETE_TEST_RESULTS.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª
- ‚úÖ `/OPENROUTER_TEST_REPORT.md` - –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ—Ç—á–µ—Ç
- ‚úÖ `/OPENROUTER_TEST_SUMMARY_RU.md` - –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

---

## üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:** 4 –∏–∑ 6 –º–µ—Ç–æ–¥–æ–≤ (66.7%)  
**–£—Å–ø–µ—à–Ω–æ:** 4 –∏–∑ 4 (100%)  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—à–∏–±–æ–∫:** 1 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è (text2image)  
**–ü–æ—Ç—Ä–∞—á–µ–Ω–æ:** $0.081 –∏–∑ $1.00 (8.1%)

### –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞: ‚úÖ –û–¢–õ–ò–ß–ù–û

- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–∞–π–¥–µ–Ω–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ text2image
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è API (PDF –∏ –∞—É–¥–∏–æ)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- ‚úÖ –û—Å—Ç–∞–ª—Å—è –±–æ–ª—å—à–æ–π –∑–∞–ø–∞—Å –±—é–¥–∂–µ—Ç–∞ (91.9%)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚úÖ **–û–î–û–ë–†–ï–ù–û –î–õ–Ø –ü–†–û–î–ê–ö–®–ï–ù–ê** (—Å —É—á–µ—Ç–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ PDF –∏ –∞—É–¥–∏–æ)

---

*–î–∞—Ç–∞ –æ—Ç—á–µ—Ç–∞: 2025-10-30 | –í–µ—Ä—Å–∏—è: 2.0 (–ü–æ–ª–Ω–∞—è)*
