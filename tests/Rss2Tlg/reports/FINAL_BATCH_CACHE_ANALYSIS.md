# –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï PROMPT CACHING –í OPENROUTER

**–î–∞—Ç–∞:** 2025-11-08  
**–ê–≤—Ç–æ—Ä:** Automated Test System  
**–í–µ—Ä—Å–∏—è:** 1.0 (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è)

---

## üéØ –¶–µ–ª—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É **prompt caching** –≤ OpenRouter API –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ batch-–æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å –µ–¥–∏–Ω—ã–º system –ø—Ä–æ–º–ø—Ç–æ–º –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤.

---

## üß™ –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –¢–µ—Å—Ç #1: Qwen 3-235B Thinking

**–ú–æ–¥–µ–ª—å:** `qwen/qwen3-235b-a22b-thinking-2507`  
**Timeout:** 120 —Å–µ–∫  
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ü—Ä–µ—Ä–≤–∞–Ω –∏–∑-–∑–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –ó–∞–ø—Ä–æ—Å #0: ‚úÖ –£—Å–ø–µ—à–Ω–æ (229 —Å–µ–∫, cached_tokens: **0**)
- –ó–∞–ø—Ä–æ—Å #1: ‚ùå Timeout (240 —Å–µ–∫)
- –ó–∞–ø—Ä–æ—Å—ã #2-4: ‚èπÔ∏è –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

**–í—ã–≤–æ–¥—ã:**
- ‚ùå –ú–æ–¥–µ–ª—å —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–∞—è (>3 –º–∏–Ω –Ω–∞ –∑–∞–ø—Ä–æ—Å)
- ‚ùå –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ù–ï –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ
- ‚ùå –ù–µ–ø—Ä–∏–≥–æ–¥–Ω–∞ –¥–ª—è production

### –¢–µ—Å—Ç #2: Claude 3.5 Sonnet —Å cache_control

**–ú–æ–¥–µ–ª—å:** `anthropic/claude-3-5-sonnet`  
**Timeout:** 60 —Å–µ–∫  
**–§–æ—Ä–º–∞—Ç:** –° –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `cache_control: ephemeral`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

| # | Prompt Tokens | Cached Tokens | –í—Ä–µ–º—è (—Å–µ–∫) |
|---|---------------|---------------|-------------|
| 0 | 4,331 | **0** | 18.22 |
| 1 | 4,365 | **0** | 19.07 |
| 2 | 4,326 | **0** | 16.12 |
| 3 | 4,351 | **0** | 16.54 |
| 4 | 4,338 | **0** | 17.24 |

**–ò—Ç–æ–≥–æ:**
- –í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 5
- Cache hits: **0**
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤: **0**
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ~17.4 —Å–µ–∫/–∑–∞–ø—Ä–æ—Å

---

## üîç –ì–ª—É–±–∏–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### –ü–æ—á–µ–º—É –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

#### 1. OpenRouter –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç prompt caching –º–µ–∂–¥—É HTTP –∑–∞–ø—Ä–æ—Å–∞–º–∏

**–§–∞–∫—Ç—ã:**
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ 2 –º–æ–¥–µ–ª–∏ (Qwen, Claude)
- Claude —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º `cache_control`
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–∫–∞–∑–∞–ª–∏ `cached_tokens: 0`
- System –ø—Ä–æ–º–ø—Ç: 15,488 —Å–∏–º–≤–æ–ª–æ–≤ (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–π)

**–í—ã–≤–æ–¥:** OpenRouter API **–ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª** –ø–æ–¥–¥–µ—Ä–∂–∫—É prompt caching –∏–∑ –Ω–∞—Ç–∏–≤–Ω—ã—Ö API –º–æ–¥–µ–ª–µ–π (Anthropic, OpenAI).

#### 2. –í–æ–∑–º–æ–∂–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏—á–∏–Ω—ã

**A. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ OpenRouter:**
- –ö–∞–∂–¥—ã–π HTTP –∑–∞–ø—Ä–æ—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- –ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –ü—Ä–æ–º–ø—Ç-–∫–µ—à, –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∂–∏–≤–µ—Ç —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

**B. Proxy-—Å–ª–æ–π:**
- OpenRouter –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –ø—Ä–æ–∫—Å–∏ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ –º–æ–¥–µ–ª—è–º–∏
- –ü—Ä–∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ—Ä—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–∏
- `cached_tokens` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–∞–∫ 0, –¥–∞–∂–µ –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –∫–µ—à–∏—Ä—É–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ

**C. Billing-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —É–º–µ–Ω—å—à–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
- OpenRouter –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑-–∑–∞ –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª–∏
- –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç —Å–∫–∏–¥–∫—É –∑–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã

#### 3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ API

**Anthropic Claude (–ø—Ä—è–º–æ–π API):**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç prompt caching
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `cache_creation_input_tokens`, `cache_read_input_tokens`
- ‚úÖ –°–∫–∏–¥–∫–∞ 90% –Ω–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã

**OpenRouter (proxy API):**
- ‚ùå –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç prompt caching
- ‚ùå –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `cached_tokens: 0`
- ‚ùå –ù–µ—Ç —Å–∫–∏–¥–∫–∏ –Ω–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–ø—Ä–æ—Å—ã

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Claude 3.5 Sonnet

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | 17.4 —Å–µ–∫ |
| –°—Ä–µ–¥–Ω–∏–µ —Ç–æ–∫–µ–Ω—ã (prompt) | 4,342 |
| –°—Ä–µ–¥–Ω–∏–µ —Ç–æ–∫–µ–Ω—ã (completion) | 671 |
| –°—Ä–µ–¥–Ω–∏–µ —Ç–æ–∫–µ–Ω—ã (total) | 5,013 |
| Cached tokens | **0** ‚ùå |
| –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å | 100% (5/5 —É—Å–ø–µ—à–Ω–æ) |

### Qwen 3-235B Thinking

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | >120 —Å–µ–∫ ‚ùå |
| –¢–æ–∫–µ–Ω—ã (–∑–∞–ø—Ä–æ—Å #0) | 8,147 |
| Cached tokens | **0** ‚ùå |
| –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å | 50% (1/2 —É—Å–ø–µ—à–Ω–æ) |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚ùå –ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø

1. **–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `qwen/qwen3-235b-a22b-thinking-2507`**
   - –°–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–∞—è (>2 –º–∏–Ω –Ω–∞ –∑–∞–ø—Ä–æ—Å)
   - –ù–µ–Ω–∞–¥–µ–∂–Ω–∞—è (—Ç–∞–π–º–∞—É—Ç—ã)
   - –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

2. **–ù–ï –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ prompt caching –≤ OpenRouter**
   - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
   - –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ OpenRouter

### ‚úÖ –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `deepseek/deepseek-chat`**
   - –ë—ã—Å—Ç—Ä–∞—è (2-3 —Å–µ–∫)
   - –°—Ç–∞–±–∏–ª—å–Ω–∞—è
   - –î–µ—à–µ–≤–∞—è ($0.27/–º–ª–Ω —Ç–æ–∫–µ–Ω–æ–≤)

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `anthropic/claude-3-5-sonnet`**
   - –£–º–µ—Ä–µ–Ω–Ω–æ –±—ã—Å—Ç—Ä–∞—è (15-20 —Å–µ–∫)
   - –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
   - –°—Ç–∞–±–∏–ª—å–Ω–∞—è

3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã**
   - –°–æ–∫—Ä–∞—Ç–∏—Ç—å system –ø—Ä–æ–º–ø—Ç –¥–æ –º–∏–Ω–∏–º—É–º–∞
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
   - –ò–∑–±–µ–≥–∞—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–π—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

4. **–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Anthropic API**
   - –ï—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ —ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤
   - Prompt caching —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–∞–º
   - –°–∫–∏–¥–∫–∞ 90% –Ω–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã

---

## üìà –°—Ç–æ–∏–º–æ—Å—Ç—å (–±–µ–∑ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è)

### –ü—Ä–∏–º–µ—Ä: 1000 –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –¥–µ–Ω—å

**DeepSeek Chat:**
- –¢–æ–∫–µ–Ω—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å: ~5,000
- –¢–æ–∫–µ–Ω—ã –≤ –¥–µ–Ω—å: 5,000,000
- –°—Ç–æ–∏–º–æ—Å—Ç—å: $1.35/–¥–µ–Ω—å ($40/–º–µ—Å—è—Ü)

**Claude 3.5 Sonnet:**
- –¢–æ–∫–µ–Ω—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å: ~5,000
- –¢–æ–∫–µ–Ω—ã –≤ –¥–µ–Ω—å: 5,000,000
- –°—Ç–æ–∏–º–æ—Å—Ç—å: $15/–¥–µ–Ω—å ($450/–º–µ—Å—è—Ü)

**–° –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º (–µ—Å–ª–∏ –±—ã —Ä–∞–±–æ—Ç–∞–ª–æ):**
- –ö–µ—à system –ø—Ä–æ–º–ø—Ç–∞: ~4,000 —Ç–æ–∫–µ–Ω–æ–≤
- –≠–∫–æ–Ω–æ–º–∏—è: 80% —Ç–æ–∫–µ–Ω–æ–≤
- –°—Ç–æ–∏–º–æ—Å—Ç—å Claude: $3/–¥–µ–Ω—å ($90/–º–µ—Å—è—Ü)

---

## üèÅ –§–∏–Ω–∞–ª—å–Ω—ã–µ –≤—ã–≤–æ–¥—ã

### ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ù–ê–•–û–î–ö–ò

1. **OpenRouter –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç prompt caching**
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ 2 –º–æ–¥–µ–ª—è—Ö
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç cache_control
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: 0 –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –≤–æ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

2. **Qwen 3-235B Thinking –Ω–µ–ø—Ä–∏–≥–æ–¥–Ω–∞ –¥–ª—è production**
   - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: >120 —Å–µ–∫
   - –ß–∞—Å—Ç—ã–µ —Ç–∞–π–º–∞—É—Ç—ã
   - –ù–µ–Ω–∞–¥–µ–∂–Ω–∞—è

3. **–≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ batch –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞**
   - Batch-–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ù–æ –±–µ–∑ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ—Ç —ç–∫–æ–Ω–æ–º–∏–∏
   - –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é

### ‚úÖ –ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–´–ï –ù–ê–•–û–î–ö–ò

1. **Claude 3.5 Sonnet —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ**
   - 100% —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
   - –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞

2. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞**
   - MariaDB —Ä–∞–±–æ—Ç–∞–µ—Ç
   - RSS –ø–∞—Ä—Å–∏–Ω–≥ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
   - Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è

3. **Batch-–º–µ—Ç–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
   - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

1. ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DeepSeek Chat** (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è #1)
   - –ë—ã—Å—Ç—Ä–∞—è + –¥–µ—à–µ–≤–∞—è
   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
   - –°—Ç–∞–±–∏–ª—å–Ω–∞—è

2. ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç**
   - –°–æ–∫—Ä–∞—Ç–∏—Ç—å system –ø—Ä–æ–º–ø—Ç
   - –£–±—Ä–∞—Ç—å –ª–∏—à–Ω—é—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
   - –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã

3. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã
   - –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –î–ª—è –±—É–¥—É—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

1. üîÑ **–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä—è–º–æ–µ API Anthropic**
   - –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ï—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–∞ —ç–∫–æ–Ω–æ–º–∏—è
   - –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

2. üîÑ **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å OpenRouter**
   - –í–æ–∑–º–æ–∂–Ω–æ –¥–æ–±–∞–≤—è—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å changelog
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

| –ú–æ–¥–µ–ª—å | –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ | –°–∫–æ—Ä–æ—Å—Ç—å | –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|-------------|----------|--------------|--------------|
| qwen/qwen3-235b-a22b-thinking-2507 | ‚ùå | ‚ùå –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–∞—è | ‚ùå –¢–∞–π–º–∞—É—Ç—ã | ‚ùå –ù–ï–¢ |
| anthropic/claude-3-5-sonnet | ‚ùå | ‚úÖ –ë—ã—Å—Ç—Ä–∞—è | ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è | ‚úÖ –î–ê |
| deepseek/deepseek-chat | ‚ùå | ‚úÖ –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è | ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è | ‚úÖ –î–ê (–ª—É—á—à–∏–π –≤—ã–±–æ—Ä) |

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

1. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π batch** (—á–µ—Ä–µ–∑ batchChatWithMessages)
   - ‚ùå –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã

2. **Claude cache_control** (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç)
   - ‚ùå –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ OpenRouter
   - ‚úÖ –§–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - ‚ö†Ô∏è OpenRouter –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç cache_control

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- ‚úÖ MariaDB 11.3.2 (Docker, –ø–æ—Ä—Ç 3308)
- ‚úÖ OpenRouter API (2 –∫–ª—é—á–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ)
- ‚úÖ Telegram Bot (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç)
- ‚úÖ RSS –ø–∞—Ä—Å–∏–Ω–≥ (5 –ª–µ–Ω—Ç, 316+ –Ω–æ–≤–æ—Å—Ç–µ–π)

---

**–î–∞—Ç–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞:** 2025-11-08 11:42:00  
**–ê–≤—Ç–æ—Ä:** RSS2TLG Test System v2.2  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û

---

## üìé –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –û—Ç—á–µ—Ç—ã —Ç–µ—Å—Ç–æ–≤
- `BATCH_CACHE_TEST_REPORT_v1.md` - –¢–µ—Å—Ç Qwen –º–æ–¥–µ–ª–∏
- `batch_cache_test_v2_20251108_114103.md` - –¢–µ—Å—Ç Claude –º–æ–¥–µ–ª–∏

### –õ–æ–≥–∏
- `/home/engine/project/logs/rss2tlg_e2e_v5.log` - –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –°–∫—Ä–∏–ø—Ç—ã
- `test_batch_cache.php` - –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è —Ç–µ—Å—Ç–∞
- `test_batch_cache_v2.php` - –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å Claude

