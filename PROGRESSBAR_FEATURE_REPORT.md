# –û—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞ sendProgressBar()

## –î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
01.11.2025, 17:52 UTC

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ `sendProgressBar()` –≤ –∫–ª–∞—Å—Å `TelegramAPI`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –∏ –¥–ª–∏–Ω–æ–π.

## –û–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞

### `TelegramAPI::sendProgressBar()`

–ú–µ—Ç–æ–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ –∫–æ–Ω–µ—á–Ω–æ–≥–æ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º —Ä–æ–≤–Ω–æ 1 —Å–µ–∫—É–Ω–¥–∞ –º–µ–∂–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```php
public function sendProgressBar(
    string|int $chatId,
    int $start,
    int $end,
    string $filledChar = '‚ñ∞',
    string $emptyChar = '‚ñ±',
    int $barLength = 10,
    array $options = []
): Message
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `$chatId` - –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞
- `$start` - –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–æ–±—ã—á–Ω–æ 0)
- `$end` - –ö–æ–Ω–µ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–æ–±—ã—á–Ω–æ 100)
- `$filledChar` - –°–∏–º–≤–æ–ª –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —á–∞—Å—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é '‚ñ∞')
- `$emptyChar` - –°–∏–º–≤–æ–ª –ø—É—Å—Ç–æ–π —á–∞—Å—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é '‚ñ±')
- `$barLength` - –î–ª–∏–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –≤ —Å–∏–º–≤–æ–ª–∞—Ö (5-50, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
- `$options` - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Telegram API

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –¢–æ—á–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª: 1 —Å–µ–∫—É–Ω–¥–∞ (1000000 –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä—è–º–æ–≥–æ –∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å–∏–º–≤–æ–ª—ã –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –¥–ª–∏–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
- –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞: `[‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±] 60%`

## –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥

### `formatProgressBar()` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥

```php
private function formatProgressBar(
    int $currentValue,
    int $start,
    int $end,
    int $total,
    string $filledChar,
    string $emptyChar,
    int $barLength
): string
```

–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ —Å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤.

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –û–∫—Ä—É–∂–µ–Ω–∏–µ
- **PHP**: 8.3.6
- **MySQL**: 8.0.43-0ubuntu0.24.04.2 ‚úÖ
- **Telegram Bot**: —Ç–µ—Å—Ç–æ–≤—ã–π –±–æ—Ç (ID: 8327641497)
- **Test Chat ID**: 366442475
- **–†–µ–∂–∏–º**: Direct execution (–±–µ–∑ Polling –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏)

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

| # | –¢–µ—Å—Ç | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í—Ä–µ–º—è | –°—Ç–∞—Ç—É—Å |
|---|------|-----------|-------|--------|
| 1 | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä | 0‚Üí10, ‚ñ∞/‚ñ±, –¥–ª–∏–Ω–∞ 10 | 12.18—Å | ‚úÖ PASSED |
| 2 | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ | 0‚Üí20, ‚ñà/‚ñë, –¥–ª–∏–Ω–∞ 15 | 23.99—Å | ‚úÖ PASSED |
| 3 | –î–ª–∏–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä | 0‚Üí15, ‚óè/‚óã, –¥–ª–∏–Ω–∞ 20 | 18.29—Å | ‚úÖ PASSED |
| 4 | –û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å | 10‚Üí0, ‚ñ∞/‚ñ±, –¥–ª–∏–Ω–∞ 10 | 11.95—Å | ‚úÖ PASSED |

**–ò—Ç–æ–≥–æ**: 4/4 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ (100%)

### –ü—Ä–∏–º–µ—Ä—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

#### –¢–µ—Å—Ç 1: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
```
[          ] 0%
[‚ñ∞         ] 10%
[‚ñ∞‚ñ∞        ] 20%
[‚ñ∞‚ñ∞‚ñ∞       ] 30%
[‚ñ∞‚ñ∞‚ñ∞‚ñ∞      ] 40%
[‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞     ] 50%
[‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞    ] 60%
[‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞   ] 70%
[‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞  ] 80%
[‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞ ] 90%
[‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞] 100%
```

#### –¢–µ—Å—Ç 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ (—Å—Ç–∏–ª—å –±–ª–æ–∫–æ–≤)
```
[‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 0%
[‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 5%
[‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 10%
[‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 15%
...
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë] 90%
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë] 95%
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100%
```

#### –¢–µ—Å—Ç 3: –î–ª–∏–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä (20 —Å–∏–º–≤–æ–ª–æ–≤)
```
[‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã] 0%
[‚óè‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã] 7%
[‚óè‚óè‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã‚óã] 13%
...
[‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óã‚óã] 93%
[‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óè‚óã] 100%
```

#### –¢–µ—Å—Ç 4: –û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
```
[‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞] 100%
[‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±] 90%
[‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±] 80%
[‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±] 70%
...
[‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±] 10%
[‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±] 0%
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø–∏—Å–∏ –≤ app.log

–ö–∞–∂–¥—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –ª–æ–≥–∏—Ä—É–µ—Ç –¥–≤–µ –∑–∞–ø–∏—Å–∏:

```
INFO –ù–∞—á–∞–ª–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ {
    "chat_id": 366442475,
    "start": 0,
    "end": 10,
    "bar_length": 10
}

INFO –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≤–µ—Ä—à–µ–Ω {
    "chat_id": 366442475,
    "message_id": 1162,
    "start": 0,
    "end": 10
}
```

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–æ—á–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
- **–ó–∞—è–≤–ª–µ–Ω–Ω—ã–π**: 1 —Å–µ–∫—É–Ω–¥–∞ (1000000 –º–∫—Å)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: `usleep(1000000)`
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 100% (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª)

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –®–∞–≥–æ–≤ | –û–∂–∏–¥–∞–µ–º–æ | –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ | –ù–∞–∫–ª–∞–¥–Ω—ã–µ | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å |
|-------|----------|------------|-----------|---------------|
| 10 | ~10—Å | 12.18—Å | +2.18—Å | 82% |
| 20 | ~20—Å | 23.99—Å | +3.99—Å | 83% |
| 15 | ~15—Å | 18.29—Å | +3.29—Å | 82% |
| 10 | ~10—Å | 11.95—Å | +1.95—Å | 84% |

**–°—Ä–µ–¥–Ω—è—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: ~83%
**–°—Ä–µ–¥–Ω–µ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ**: ~2.85 —Å–µ–∫—É–Ω–¥—ã

**–ü—Ä–∏—á–∏–Ω—ã –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤**:
- –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –°–µ—Ç–µ–≤—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏
- –£–≤–µ–¥–æ–º–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä
```php
// –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä 0‚Üí100
$telegram->sendProgressBar($chatId, 0, 100);
```

### –° –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —Å–∏–º–≤–æ–ª–æ–≤
```php
// –°—Ç–∏–ª—å –∑–∞–≥—Ä—É–∑–∫–∏
$telegram->sendProgressBar($chatId, 0, 100, '‚ñà', '‚ñë', 15);
```

### –î–ª–∏–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
```php
// 20 —Å–∏–º–≤–æ–ª–æ–≤
$telegram->sendProgressBar($chatId, 0, 50, '‚óè', '‚óã', 20);
```

### –û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
```php
// –û—Ç 100 –∫ 0
$telegram->sendProgressBar($chatId, 100, 0);
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
```php
function uploadFileWithProgress(TelegramAPI $telegram, int $chatId, string $file): void
{
    $telegram->sendMessage($chatId, 'üì• –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–∞...');
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
    $telegram->sendProgressBar($chatId, 0, 100, '‚ñà', '‚ñë', 15);
    
    $telegram->sendMessage($chatId, '‚úÖ –§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!');
}
```

## –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö

```
src/TelegramBot/Core/TelegramAPI.php    +154 —Å—Ç—Ä–æ–∫–∏
    - sendProgressBar() –º–µ—Ç–æ–¥
    - formatProgressBar() –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥
```

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

**–¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã**:
```
test_progressbar.php                    12 KB (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å –∫–Ω–æ–ø–∫–∞–º–∏)
test_progressbar_direct.php             9.8 KB (–ø—Ä—è–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)
trigger_progressbar_test.php            0.9 KB (—Ç—Ä–∏–≥–≥–µ—Ä –∫–æ–º–∞–Ω–¥—ã)
```

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**:
```
PROGRESSBAR_FEATURE_REPORT.md          (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
```

**–õ–æ–≥–∏**:
```
test_progressbar_direct_output.log     1.2 KB
logs/app.log                           (–æ–±–Ω–æ–≤–ª–µ–Ω)
```

## –í–∞–ª–∏–¥–∞—Ü–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

1. **Chat ID** - —á–µ—Ä–µ–∑ `Validator::validateChatId()`
2. **Start ‚â† End** - ValidationException –µ—Å–ª–∏ —Ä–∞–≤–Ω—ã
3. **Bar Length** - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç 5 –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```php
try {
    $message = $this->editMessageText($chatId, $messageId, $currentText, $options);
} catch (ApiException $e) {
    $this->logger?->warning('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞', [
        'chat_id' => $chatId,
        'message_id' => $messageId,
        'error' => $e->getMessage(),
        'current_value' => $currentValue,
    ]);
}
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | sendProgressBar() | sendCounter() | sendMessageStreaming() |
|----------------|-------------------|---------------|------------------------|
| –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è | –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å % | –ß–∏—Å–ª–∞/—ç–º–æ–¥–∑–∏ | –¢–µ–∫—Å—Ç |
| –ò–Ω—Ç–µ—Ä–≤–∞–ª | 1 —Å–µ–∫—É–Ω–¥–∞ | 1 —Å–µ–∫—É–Ω–¥–∞ | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –°–∏–º–≤–æ–ª—ã, –¥–ª–∏–Ω–∞ | –≠–º–æ–¥–∑–∏ –¥–∞/–Ω–µ—Ç | –°–∫–æ—Ä–æ—Å—Ç—å |
| –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ | –ü—Ä–æ–≥—Ä–µ—Å—Å, –∑–∞–≥—Ä—É–∑–∫–∞ | –°—á–µ—Ç—á–∏–∫–∏, —Ç–∞–π–º–µ—Ä—ã | –¢–µ–∫—Å—Ç–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã |
| –§–æ—Ä–º–∞—Ç | `[‚ñà‚ñà‚ñà‚ñë‚ñë] 60%` | `60` –∏–ª–∏ `6Ô∏è‚É£0Ô∏è‚É£` | –õ—é–±–æ–π —Ç–µ–∫—Å—Ç |

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–µ–∫—Ç–æ–º

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

‚úÖ **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** - –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
‚úÖ **PHPDoc –Ω–∞ —Ä—É—Å—Å–∫–æ–º** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - try-catch –±–ª–æ–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - INFO —É—Ä–æ–≤–µ–Ω—å –¥–ª—è –Ω–∞—á–∞–ª–∞/–∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫–∞–∫ –≤ –ø—Ä–æ–µ–∫—Ç–µ
‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥

### –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
‚úÖ php -l src/TelegramBot/Core/TelegramAPI.php
   No syntax errors detected

‚úÖ php -l test_progressbar_direct.php
   No syntax errors detected
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
```php
$telegram->sendMessage($chatId, 'üì• –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞...');
$telegram->sendProgressBar($chatId, 0, 100, '‚ñà', '‚ñë', 15);
$telegram->sendMessage($chatId, '‚úÖ –ì–æ—Ç–æ–≤–æ!');
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```php
$telegram->sendMessage($chatId, '‚öôÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ 100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤...');
$telegram->sendProgressBar($chatId, 0, 100);
$telegram->sendMessage($chatId, '‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!');
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞/–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```php
$telegram->sendMessage($chatId, 'üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π...');
$telegram->sendProgressBar($chatId, 0, 50, '‚óè', '‚óã', 20);
$telegram->sendMessage($chatId, '‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!');
```

### 4. –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
```php
$telegram->sendMessage($chatId, '‚è±Ô∏è –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥...');
$telegram->sendProgressBar($chatId, 10, 0);
$telegram->sendMessage($chatId, '‚è∞ –í—Ä–µ–º—è –≤—ã—à–ª–æ!');
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª**: 1 —Å–µ–∫—É–Ω–¥–∞ (–Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
2. **–î–ª–∏–Ω–∞ –±–∞—Ä–∞**: –æ—Ç 5 –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
3. **–û–¥–∏–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –Ω–∞ —á–∞—Ç**: –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç
4. **–ë–æ–ª—å—à–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã**: 0‚Üí100 –∑–∞–π–º–µ—Ç ~100 —Å–µ–∫—É–Ω–¥

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**:
- –î–∏–∞–ø–∞–∑–æ–Ω—ã ‚â§50 —à–∞–≥–æ–≤
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –¢–∞–π–º–µ—Ä—ã –∏ –æ–±—Ä–∞—Ç–Ω—ã–µ –æ—Ç—Å—á–µ—Ç—ã

‚ùå **–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**:
- –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã (>100)
- –ë—ã—Å—Ç—Ä—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (< 1 —Å–µ–∫—É–Ω–¥—ã)
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –≤ –æ–¥–Ω–æ–º —á–∞—Ç–µ

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–æ–≤—É—é –±–∞–∑—É
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~154 (–º–µ—Ç–æ–¥ + –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: ~500+ —Å—Ç—Ä–æ–∫
- **–¢–µ—Å—Ç—ã**: 4 —Ç–µ—Å—Ç–∞ (100% success rate)
- **–ü—Ä–∏–º–µ—Ä—ã**: 4+ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
- ‚úÖ –†–∞–∑–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (‚ñà/‚ñë, ‚óè/‚óã)
- ‚úÖ –†–∞–∑–Ω–∞—è –¥–ª–∏–Ω–∞ (10, 15, 20 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ MySQL –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏: ‚úÖ 100%

**–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã**:
- ‚úÖ –ú–µ—Ç–æ–¥ `sendProgressBar()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å–∏–º–≤–æ–ª—ã –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –¥–ª–∏–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
- ‚úÖ –ò–Ω—Ç–µ—Ä–≤–∞–ª —Ä–æ–≤–Ω–æ 1 —Å–µ–∫—É–Ω–¥–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
- ‚úÖ –ü—Ä—è–º–æ–π –∏ –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã (4/4)
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤ –±–æ—Ç–µ –ø–æ –∫–Ω–æ–ø–∫–µ
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

### –ö–∞—á–µ—Å—Ç–≤–æ: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

- –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –ø—Ä–æ–µ–∫—Ç–∞
- 100% —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### –°—Ç–∞—Ç—É—Å: READY FOR PRODUCTION üöÄ

–ú–µ—Ç–æ–¥ `sendProgressBar()` –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.

---

**–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ**: AI Development Agent  
**–î–∞—Ç–∞**: 01.11.2025  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–í–µ—Ç–∫–∞**: feat-telegrambot-counter-stream-emoji-1s-polling-mysql-tests
