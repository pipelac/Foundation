╔═══════════════════════════════════════════════════════════════════════════════╗
║                         UTM Module - Структура проекта                        ║
║                                Version 2.0                                    ║
╚═══════════════════════════════════════════════════════════════════════════════╝

src/UTM/
│
├── 📋 Основные файлы
│   ├── Account.php                    [30+ методов API для UTM5 биллинга]
│   ├── Utils.php                      [Утилиты: валидация, форматирование]
│   ├── INDEX.md                       [🎯 НАЧНИТЕ ЗДЕСЬ! Навигация по модулю]
│   ├── README.md                      [Быстрый старт и примеры]
│   ├── MIGRATION_GUIDE.md             [Руководство по миграции со старого API]
│   ├── SUMMARY.md                     [Краткая сводка возможностей]
│   ├── REORGANIZATION_REPORT.md       [Отчет о реорганизации структуры]
│   └── STRUCTURE.txt                  [Этот файл - визуальная структура]
│
├── 📁 config/ - Конфигурация
│   ├── account.json                   [Дилеры, тарифы, VLAN, параметры]
│   ├── utm_example.json               [Пример конфигурации для подключения к БД]
│   └── README.md                      [Описание конфигурационных файлов]
│
├── 📁 docs/ - Документация
│   ├── UTM_MODULE.md                  [📖 ГЛАВНЫЙ ДОКУМЕНТ! Полное описание API]
│   ├── UTM_README_FIRST.md            [Первые шаги и подготовка к работе]
│   ├── UTM_CHANGELOG.md               [Общий changelog модуля]
│   ├── UTM_MIGRATION_SUMMARY.md       [Краткая сводка по миграции]
│   └── CHANGELOG_UTM_ACCOUNT.md       [Детальный changelog Account API]
│
├── 📁 examples/ - Примеры кода
│   ├── utm_account_example.php        [Базовый пример: баланс, тарифы, услуги]
│   └── utm_account_search_example.php [Примеры поиска: IP, телефон, адрес, VLAN]
│
└── 📁 tests/ - Тесты (в разработке)
    └── README.md                      [Описание будущих unit-тестов]

src/Exception/UTM/ - Исключения
├── AccountException.php               [Исключения для Account API]
└── UtilsValidationException.php       [Исключения для Utils API]

╔═══════════════════════════════════════════════════════════════════════════════╗
║                            Быстрая навигация                                  ║
╚═══════════════════════════════════════════════════════════════════════════════╝

🚀 Новичок?
   → INDEX.md → README.md → examples/utm_account_example.php

📚 Нужна документация?
   → docs/UTM_MODULE.md (30+ методов с примерами)

🔄 Мигрируете?
   → MIGRATION_GUIDE.md → docs/UTM_MIGRATION_SUMMARY.md

⚙️ Настройка?
   → config/README.md → config/utm_example.json

💻 Примеры кода?
   → examples/utm_account_example.php
   → examples/utm_account_search_example.php

╔═══════════════════════════════════════════════════════════════════════════════╗
║                         Account API - Основные методы                         ║
╚═══════════════════════════════════════════════════════════════════════════════╝

📊 Информация о счете
   • getAccountInfo()                  - Полная информация
   • getBalance()                      - Баланс в разных форматах
   • getCurrentTariff()                - Текущие тарифы
   • getNextTariff()                   - Следующие тарифы
   • getServices()                     - Подключенные услуги
   • getGroups()                       - Группы пользователя

🔍 Поиск счетов
   • getAccountByIP()                  - По IP-адресу
   • getAccountByPhone()               - По телефону
   • getAccountByAddress()             - По адресу
   • getAccountByFio()                 - По ФИО
   • getAccountBySwitchPort()          - По порту коммутатора
   • getAccountByVlan()                - По VLAN
   • getAccountBySnWiFi()              - По SN WiFi роутера
   • getAccountBySnStb()               - По SN STB медиаплеера
   • getAccountBySSID()                - По SSID

🔧 Дополнительные методы
   • getIpByAccount()                  - IP-адреса счета
   • getUadParamsByAccount()           - Дополнительные параметры
   • getDealerNameByAccount()          - Название дилера
   • getLoginAndPaswordByAccountId()   - Логин и пароль
   • getAccountByUserId()              - account_id по user_id
   • getLastAccountId()                - Последний ID в системе

╔═══════════════════════════════════════════════════════════════════════════════╗
║                          Utils API - Основные методы                          ║
╚═══════════════════════════════════════════════════════════════════════════════╝

✅ Валидация
   • isValidEmail()                    - Проверка email
   • validateMobileNumber()            - Валидация и форматирование телефона
   • validateIp()                      - Валидация IP
   • isIpInRange()                     - Проверка IP в подсети

📐 Форматирование
   • doRound()                         - Округление чисел
   • numWord()                         - Правильные окончания (1 день, 2 дня)
   • min2hour()                        - Конвертация минут в читаемый формат

🔤 Строки
   • rus2lat() / lat2rus()             - Транслитерация ГОСТ
   • hexToStr() / strToHex()           - HEX конвертация
   • mbUcfirst()                       - Первая буква в верхний регистр
   • mbStrReplace()                    - Мультибайтовая замена

🎲 Генерация
   • generateString()                  - Случайная строка (буквы+цифры)
   • generatePassword()                - Числовой пароль

📊 Массивы
   • parseNumbers()                    - Парсинг диапазонов (1,3-5,7)
   • array2ToArray1()                  - 2D → 1D массив
   • array1ToList()                    - Массив → список

╔═══════════════════════════════════════════════════════════════════════════════╗
║                               Требования                                      ║
╚═══════════════════════════════════════════════════════════════════════════════╝

• PHP 8.1+
• MySQL 5.5+ (рекомендуется 5.7+)
• Расширения: PDO, mbstring, bcmath
• Доступ к серверу БД UTM5

╔═══════════════════════════════════════════════════════════════════════════════╗
║                              Статус модуля                                    ║
╚═══════════════════════════════════════════════════════════════════════════════╝

✅ Production Ready
✅ PHP 8.1+ совместимость
✅ 30+ методов API
✅ Строгая типизация
✅ Полная документация
✅ Примеры использования
✅ Исключения вместо массивов status/error
✅ Автологирование операций
✅ JSON конфигурация

Версия: 2.0 | Дата: 2025-11-07 | Файлов: 18
