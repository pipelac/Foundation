# OpenRouter - Поддерживаемые модели для генерации изображений

## Актуальные модели (2024)

OpenRouter API поддерживает следующие модели для генерации изображений через endpoint `/images/generations`:

### 1. openai/gpt-5-image
- **Описание:** Полнофункциональная модель от OpenAI с высоким качеством генерации
- **Особенности:** Лучшее качество, детализация, понимание сложных запросов
- **Использование:** Профессиональная генерация, требовательные задачи

```php
$imageUrl = $openRouter->text2image(
    'openai/gpt-5-image',
    'Фотореалистичный портрет человека в стиле ренессанс',
    ['quality' => 'hd']
);
```

### 2. openai/gpt-5-image-mini
- **Описание:** Оптимизированная версия модели для быстрой генерации
- **Особенности:** Быстрая генерация, оптимизированная стоимость, хорошее качество
- **Использование:** Быстрые прототипы, массовая генерация, простые задачи

```php
$imageUrl = $openRouter->text2image(
    'openai/gpt-5-image-mini',
    'Простой логотип компании'
);
```

### 3. google/gemini-2.5-flash-image
- **Описание:** Стабильная версия генерации изображений от Google
- **Особенности:** Быстрая генерация, интеграция с экосистемой Google
- **Использование:** Разнообразные задачи генерации изображений

```php
$imageUrl = $openRouter->text2image(
    'google/gemini-2.5-flash-image',
    'Абстрактная композиция в современном стиле'
);
```

### 4. google/gemini-2.5-flash-image-preview
- **Описание:** Preview версия с экспериментальными функциями
- **Особенности:** Новейшие возможности, могут быть нестабильны
- **Использование:** Тестирование новых функций

```php
$imageUrl = $openRouter->text2image(
    'google/gemini-2.5-flash-image-preview',
    'Инновационный дизайн будущего'
);
```

## Сравнение моделей

| Модель | Качество | Скорость | Стоимость | Лучше для |
|--------|----------|----------|-----------|-----------|
| `openai/gpt-5-image` | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | $$$ | Профессиональная работа |
| `openai/gpt-5-image-mini` | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | $ | Быстрые задачи |
| `google/gemini-2.5-flash-image` | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | $$ | Универсальные задачи |
| `google/gemini-2.5-flash-image-preview` | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | $$ | Эксперименты |

## Параметры генерации

Все модели поддерживают следующие параметры:

### size (string)
Размер генерируемого изображения:
- `"256x256"` - Маленький размер
- `"512x512"` - Средний размер
- `"1024x1024"` - Большой размер (по умолчанию)
- `"1024x1792"` - Вертикальный формат
- `"1792x1024"` - Горизонтальный формат

### quality (string)
Качество изображения:
- `"standard"` - Стандартное качество (быстрее и дешевле)
- `"hd"` - Высокое качество (лучше детализация)

### n (int)
Количество изображений для генерации:
- `1` - Одно изображение (по умолчанию)
- `2-10` - Несколько вариантов

## Примеры использования

### Высокое качество для печати
```php
$imageUrl = $openRouter->text2image(
    'openai/gpt-5-image',
    'Детальный пейзаж горного озера на рассвете',
    [
        'size' => '1792x1024',
        'quality' => 'hd'
    ]
);
```

### Быстрая генерация множества вариантов
```php
$imageUrl = $openRouter->text2image(
    'openai/gpt-5-image-mini',
    'Иконка приложения для фитнеса',
    [
        'size' => '512x512',
        'n' => 5
    ]
);
```

### Генерация через Google Gemini
```php
$imageUrl = $openRouter->text2image(
    'google/gemini-2.5-flash-image',
    'Футуристический интерфейс мобильного приложения'
);
```

## Лучшие практики

1. **Выбор модели:**
   - Для важных проектов используйте `openai/gpt-5-image`
   - Для быстрых задач подходит `openai/gpt-5-image-mini`
   - Для экспериментов с Google - `google/gemini-2.5-flash-image`

2. **Оптимизация промптов:**
   - Будьте конкретны в описаниях
   - Указывайте стиль, освещение, композицию
   - Используйте описательные прилагательные

3. **Параметры:**
   - `hd` качество для финальных работ
   - `standard` для черновиков и тестов
   - Генерируйте несколько вариантов (`n > 1`) для выбора лучшего

4. **Обработка результатов:**
   - Всегда проверяйте полученный URL
   - Сохраняйте изображения локально для надежности
   - Обрабатывайте исключения

## Обработка ошибок

```php
use App\Component\Exception\OpenRouterValidationException;
use App\Component\Exception\OpenRouterApiException;

try {
    $imageUrl = $openRouter->text2image(
        'openai/gpt-5-image',
        'Описание изображения'
    );
    
    // Сохранить результат
    $imageData = file_get_contents($imageUrl);
    file_put_contents('result.jpg', $imageData);
    
} catch (OpenRouterValidationException $e) {
    echo "Ошибка валидации: " . $e->getMessage();
} catch (OpenRouterApiException $e) {
    echo "Ошибка API: " . $e->getMessage();
    echo "Код ошибки: " . $e->getCode();
}
```

## Дополнительные ресурсы

- [OpenRouter Image Generation Docs](https://openrouter.ai/docs/features/multimodal/image-generation)
- [OpenRouter API Reference](https://openrouter.ai/docs/api-reference)
- [Pricing Information](https://openrouter.ai/docs/pricing)

## Обновления

Эта документация отражает актуальное состояние API на 2024 год. Список поддерживаемых моделей может обновляться. 

Всегда проверяйте актуальный список моделей на официальной странице OpenRouter:
https://openrouter.ai/docs/features/multimodal/image-generation
