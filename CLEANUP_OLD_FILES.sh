#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ BaseUtils
# –î–∞—Ç–∞: 2025-11-07
# –í–µ—Ä—Å–∏—è: 2.0

echo "========================================="
echo "  –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏"
echo "========================================="
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å—Ç–∞—Ä—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å—Ç–∞—Ä—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤ src/..."
echo ""

OLD_DIRS=(
    "src/Cache"
    "src/Config"
    "src/Exception"
    "src/Netmap"
)

for dir in "${OLD_DIRS[@]}"; do
    if [ -d "$dir" ]; then
        echo "‚úì –ù–∞–π–¥–µ–Ω–∞: $dir"
    else
        echo "‚úó –ù–µ –Ω–∞–π–¥–µ–Ω–∞: $dir (—É–∂–µ —É–¥–∞–ª–µ–Ω–∞?)"
    fi
done

echo ""
echo "‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã!"
echo ""
echo "–ö–æ–ø–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ src/BaseUtils/"
echo ""
read -p "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ? (yes/no): " confirm

if [ "$confirm" != "yes" ]; then
    echo "–û—Ç–º–µ–Ω–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º"
    exit 0
fi

echo ""
echo "üóëÔ∏è  –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π..."
echo ""

for dir in "${OLD_DIRS[@]}"; do
    if [ -d "$dir" ]; then
        echo "–£–¥–∞–ª–µ–Ω–∏–µ: $dir"
        rm -rf "$dir"
        echo "‚úì –£–¥–∞–ª–µ–Ω–æ"
    fi
done

echo ""
echo "‚úÖ –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
echo ""
echo "üìä –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ src/:"
ls -la src/

echo ""
echo "‚úÖ –í—Å–µ –≥–æ—Ç–æ–≤–æ! –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —É–¥–∞–ª–µ–Ω—ã."
