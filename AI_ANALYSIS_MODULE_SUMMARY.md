# AI Analysis Module โ ะะตะทัะผะต ัะตะฐะปะธะทะฐัะธะธ

## โ ะงัะพ ัะพะทะดะฐะฝะพ

### 1. ะัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั

#### AIAnalysisService.php
**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะฝะพะฒะฝะพะน ัะตัะฒะธั ะดะปั AI-ะฐะฝะฐะปะธะทะฐ ะฝะพะฒะพััะตะน ัะตัะตะท OpenRouter API

**ะะตัะพะดั:**
- `analyze(array $item, string $promptId, string $model)` โ ะฐะฝะฐะปะธะท ะพะดะฝะพะน ะฝะพะฒะพััะธ
- `analyzeBatch(array $items, string $promptId, string $model)` โ ะฟะฐะบะตัะฝัะน ะฐะฝะฐะปะธะท
- `getMetrics()` โ ะฟะพะปััะตะฝะธะต ะผะตััะธะบ ัะฐะฑะพัั

**ะัะพะฑะตะฝะฝะพััะธ:**
- ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ัะทัะบะฐ ััะฐััะธ (ััััะบะธะน/ะฐะฝะณะปะธะนัะบะธะน)
- ะะตัะตะฒะพะด ะฝะฐ ััััะบะธะน ั ะพัะตะฝะบะพะน ะบะฐัะตััะฒะฐ
- ะะฐัะตะณะพัะธะทะฐัะธั ะฝะพะฒะพััะตะน (20 ะบะฐัะตะณะพัะธะน)
- ะะตะนัะธะฝะณ ะฒะฐะถะฝะพััะธ ะฟะพ ัะบะฐะปะต 1-20
- ะะทะฒะปะตัะตะฝะธะต ะบะปััะตะฒัั ะดะฐะฝะฝัั ะดะปั ะดะตะดัะฟะปะธะบะฐัะธะธ
- ะะพะดะดะตัะถะบะฐ ะบะตัะธัะพะฒะฐะฝะธั ะฟัะพะผะฟัะพะฒ

#### AIAnalysisRepository.php
**ะะฐะทะฝะฐัะตะฝะธะต:** ะะตะฟะพะทะธัะพัะธะน ะดะปั ัะฐะฑะพัั ั ัะฐะฑะปะธัะตะน `rss2tlg_ai_analysis`

**ะะตัะพะดั:**
- `save(...)` โ ัะพััะฐะฝะตะฝะธะต ัะตะทัะปััะฐัะฐ ะฐะฝะฐะปะธะทะฐ
- `saveError(...)` โ ัะพััะฐะฝะตะฝะธะต ะพัะธะฑะบะธ
- `getByItemId(int $itemId)` โ ะฟะพะปััะตะฝะธะต ะฐะฝะฐะปะธะทะฐ ะฟะพ ID ะฝะพะฒะพััะธ
- `exists(int $itemId)` โ ะฟัะพะฒะตัะบะฐ ัััะตััะฒะพะฒะฐะฝะธั ะฐะฝะฐะปะธะทะฐ
- `getPendingItems(int $feedId, int $limit)` โ ะฝะพะฒะพััะธ ะฑะตะท ะฐะฝะฐะปะธะทะฐ
- `getByImportance(int $minRating, int $limit)` โ ะฒะฐะถะฝัะต ะฝะพะฒะพััะธ
- `getStats()` โ ััะฐัะธััะธะบะฐ ะฐะฝะฐะปะธะทะพะฒ

**ะัะพะฑะตะฝะฝะพััะธ:**
- ะะฒัะพะผะฐัะธัะตัะบะพะต ัะพะทะดะฐะฝะธะต ัะฐะฑะปะธัั ะฟัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต
- ะะทะฒะปะตัะตะฝะธะต ะพัะฝะพะฒะฝัั ะฟะพะปะตะน ะธะท JSON ะดะปั ะฑััััะพะณะพ ะฟะพะธัะบะฐ
- ะะฝะดะตะบัั ะดะปั ะพะฟัะธะผะธะทะฐัะธะธ ะทะฐะฟัะพัะพะฒ

#### PromptManager.php
**ะะฐะทะฝะฐัะตะฝะธะต:** ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพะผะฟัะฐะผะธ ะดะปั AI-ะฐะฝะฐะปะธะทะฐ

**ะะตัะพะดั:**
- `getSystemPrompt(string $promptId)` โ ะทะฐะณััะทะบะฐ ะฟัะพะผะฟัะฐ ะธะท ัะฐะนะปะฐ
- `buildUserMessage(string $title, string $text, string $lang)` โ ัะพัะผะธัะพะฒะฐะฝะธะต ะดะธะฝะฐะผะธัะตัะบะพะณะพ ะทะฐะฟัะพัะฐ
- `getAvailablePrompts()` โ ัะฟะธัะพะบ ะดะพัััะฟะฝัั ะฟัะพะผะฟัะพะฒ
- `hasPrompt(string $promptId)` โ ะฟัะพะฒะตัะบะฐ ัััะตััะฒะพะฒะฐะฝะธั ะฟัะพะผะฟัะฐ

**ะัะพะฑะตะฝะฝะพััะธ:**
- ะะตัะธัะพะฒะฐะฝะธะต ะทะฐะณััะถะตะฝะฝัั ะฟัะพะผะฟัะพะฒ ะฒ ะฟะฐะผััะธ
- ะะตะทะพะฟะฐัะฝะฐั ัะฐะฑะพัะฐ ั ัะฐะนะปะพะฒะพะน ัะธััะตะผะพะน
- ะะพะดะดะตัะถะบะฐ XML ัะพัะผะฐัะฐ ะฟัะพะผะฟัะพะฒ

### 2. ะะฐะทะฐ ะดะฐะฝะฝัั

#### ะขะฐะฑะปะธัะฐ: rss2tlg_ai_analysis

**ะัะฝะพะฒะฝัะต ะฟะพะปั:**
- `item_id` โ ID ะฝะพะฒะพััะธ (UNIQUE, FK โ rss2tlg_items.id)
- `feed_id` โ ID ะธััะพัะฝะธะบะฐ RSS
- `prompt_id` โ ID ะธัะฟะพะปัะทะพะฒะฐะฝะฝะพะณะพ ะฟัะพะผะฟัะฐ
- `analysis_status` โ pending/processing/success/failed
- `analysis_data` โ ะฟะพะปะฝัะน JSON ะพัะฒะตั ะพั AI
- `category_primary` โ ะพัะฝะพะฒะฝะฐั ะบะฐัะตะณะพัะธั
- `importance_rating` โ ัะตะนัะธะฝะณ ะฒะฐะถะฝะพััะธ (1-20)
- `content_headline` โ ะทะฐะณะพะปะพะฒะพะบ ะฝะฐ ััััะบะพะผ (ะผะฐะบั 200 ัะธะผะฒะพะปะพะฒ)
- `content_summary` โ ะบัะฐัะบะพะต ัะพะดะตัะถะฐะฝะธะต
- `deduplication_data` โ ะดะฐะฝะฝัะต ะดะปั ะดะตะดัะฟะปะธะบะฐัะธะธ (JSON)
- `model_used` โ ะฝะฐะทะฒะฐะฝะธะต ะผะพะดะตะปะธ AI
- `tokens_used` โ ะบะพะปะธัะตััะฒะพ ะธัะฟะพะปัะทะพะฒะฐะฝะฝัั ัะพะบะตะฝะพะฒ
- `processing_time_ms` โ ะฒัะตะผั ะพะฑัะฐะฑะพัะบะธ ะฒ ะผั
- `cache_hit` โ ะธัะฟะพะปัะทะพะฒะฐะฝ ะปะธ ะบะตั

**ะะฝะดะตะบัั:**
- PRIMARY KEY ะฝะฐ `id`
- UNIQUE KEY ะฝะฐ `item_id` (ะพะดะฝะฐ ะฝะพะฒะพััั = ะพะดะธะฝ ะฐะฝะฐะปะธะท)
- KEY ะฝะฐ `feed_id`, `prompt_id`, `analysis_status`
- KEY ะฝะฐ `importance_rating` (ะดะปั ะฟะพะธัะบะฐ ะฒะฐะถะฝัั ะฝะพะฒะพััะตะน)
- KEY ะฝะฐ `category_primary` (ะดะปั ะณััะฟะฟะธัะพะฒะบะธ ะฟะพ ะบะฐัะตะณะพัะธัะผ)

### 3. ะัะพะผะฟัั

#### INoT_v1.xml
**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฐะทะพะฒัะน ะฟัะพะผะฟั ะดะปั ะฐะฝะฐะปะธะทะฐ ะฝะพะฒะพััะตะน

**ะกะพะดะตัะถะธั:**
- ะะพะปั ะธ ะทะฐะดะฐัะธ ะฐะฝะฐะปะธะทะฐัะพัะฐ
- 20 ะบะฐัะตะณะพัะธะน ะฝะพะฒะพััะตะน (Technology, Business, Finance, ะธ ั.ะด.)
- ะะตัะฐะปัะฝัั ัะบะฐะปั ะฒะฐะถะฝะพััะธ (1-20)
- ะัะฐะฒะธะปะฐ ะฟะตัะตะฒะพะดะฐ ะธ ะฒะฐะปะธะดะฐัะธะธ
- ะกัะตะผั ะฒััะพะดะฝัั ะดะฐะฝะฝัั (JSON)
- ะะพะณะธะบั ะพะฑัะฐะฑะพัะบะธ ัะตัะตะท "ะฐะณะตะฝัะพะฒ" (multi-agent reasoning)

**ะะฟัะธะผะธะทะฐัะธั:**
- System prompt ะบะตัะธััะตััั ะฝะฐ ััะพัะพะฝะต API (5-10 ะผะธะฝัั)
- User message ะฟะตัะตะดะฐะตััั ะพัะดะตะปัะฝะพ (ะฝะต ะบะตัะธััะตััั)
- ะญะบะพะฝะพะผะธั ัะพะบะตะฝะพะฒ: 82.5% ะฟัะธ ะฟะพะฒัะพัะฝัั ะทะฐะฟัะพัะฐั

### 4. ะะพะฝัะธะณััะฐัะธั

**ะะฑะฝะพะฒะปะตะฝ ัะฐะนะป:** `config/rss2tlg_stress_test.json`

ะะพะฑะฐะฒะปะตะฝะพ ะฟะพะปะต `prompt_id` ะดะปั ะบะฐะถะดะพะณะพ ะธััะพัะฝะธะบะฐ:
```json
{
  "id": 1,
  "url": "https://example.com/rss",
  "title": "Example News",
  "prompt_id": "INoT_v1",
  ...
}
```

### 5. ะะพะบัะผะตะฝัะฐัะธั

#### AI_ANALYSIS_README.md (~650 ัััะพะบ)
**ะกะพะดะตัะถะธั:**
- ะะฟะธัะฐะฝะธะต ะฐััะธัะตะบัััั ะผะพะดัะปั
- ะะพะบัะผะตะฝัะฐัะธั ะฒัะตั ะบะปะฐััะพะฒ ะธ ะผะตัะพะดะพะฒ
- ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั
- ะคะพัะผะฐั ะฒััะพะดะฝัั ะดะฐะฝะฝัั
- ะะฝััััะบัะธะธ ะฟะพ ะฝะฐัััะพะนะบะต
- ะะตััะธะบะธ ะธ ะผะพะฝะธัะพัะธะฝะณ
- Troubleshooting

#### schema_ai_analysis.sql
**ะกะพะดะตัะถะธั:** SQL ััะตะผั ัะฐะฑะปะธัั `rss2tlg_ai_analysis`

### 6. ะัะธะผะตัั

#### ai_analysis_demo.php (~220 ัััะพะบ)
**ะะตะผะพะฝัััะธััะตั:**
- ะะฝะธัะธะฐะปะธะทะฐัะธั ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ
- ะะฐะณััะทะบั ะฝะพะฒะพััะตะน ะธะท ะะ
- AI-ะฐะฝะฐะปะธะท ัะตัะตะท OpenRouter
- ะกะพััะฐะฝะตะฝะธะต ัะตะทัะปััะฐัะพะฒ
- ะัะฒะพะด ััะฐัะธััะธะบะธ
- ะัะธะผะตัั ะทะฐะฟัะพัะพะฒ ะบ ัะตะทัะปััะฐัะฐะผ

## ๐ฏ ะะปััะตะฒัะต ะฒะพะทะผะพะถะฝะพััะธ

### 1. AI-ะฐะฝะฐะปะธะท ะฝะพะฒะพััะตะน
- โ ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟะตัะตะฒะพะด ั ะฐะฝะณะปะธะนัะบะพะณะพ ะฝะฐ ััััะบะธะน
- โ ะัะตะฝะบะฐ ะบะฐัะตััะฒะฐ ะฟะตัะตะฒะพะดะฐ (1-10)
- โ ะะฐัะตะณะพัะธะทะฐัะธั ะฟะพ 20 ะบะฐัะตะณะพัะธัะผ
- โ ะะตะนัะธะฝะณ ะฒะฐะถะฝะพััะธ ะฟะพ ะดะตัะฐะปัะฝะพะน ัะบะฐะปะต (1-20)
- โ ะะทะฒะปะตัะตะฝะธะต ะทะฐะณะพะปะพะฒะบะฐ (ะดะพ 80 ัะธะผะฒะพะปะพะฒ)
- โ ะัะฐัะบะพะต ัะพะดะตัะถะฐะฝะธะต (3-10 ะฟัะตะดะปะพะถะตะฝะธะน, ะดะพ 500 ัะธะผะฒะพะปะพะฒ)
- โ ะะปััะตะฒัะต ัะปะพะฒะฐ (3-7 ัะตะณะพะฒ)

### 2. ะะตะดัะฟะปะธะบะฐัะธั
ะกัััะบัััะธัะพะฒะฐะฝะฝัะต ะดะฐะฝะฝัะต ะดะปั ะพะฑะฝะฐััะถะตะฝะธั ะดัะฑะปะธะบะฐัะพะฒ:
- **canonical_entities** โ ะพัะฝะพะฒะฝัะต ัััะฝะพััะธ (ะบะพะผะฟะฐะฝะธะธ, ะปัะดะธ, ะฟัะพะดัะบัั)
- **core_event** โ ะพะฟะธัะฐะฝะธะต ัะพะฑััะธั (ััะพ ะฟัะพะธะทะพัะปะพ)
- **numeric_facts** โ ะฒัะต ัะธัะปะฐ, ะดะฐัั, ะผะตััะธะบะธ
- **semantic_fingerprint** โ ะบะปััะตะฒัะต ะบะพะฝัะตะฟัะธะธ (5-7)
- **impact_vector** โ ะฒะตะบัะพั ะฒะปะธัะฝะธั (scope, severity, urgency)

### 3. ะะตัะธัะพะฒะฐะฝะธะต ะฟัะพะผะฟัะพะฒ

**ะะฟัะธะผะธะทะฐัะธั ะทะฐััะฐั:**
- System prompt (~1000 ัะพะบะตะฝะพะฒ) ะบะตัะธััะตััั ะฝะฐ 5-10 ะผะธะฝัั
- User message (~200 ัะพะบะตะฝะพะฒ) ะฟะตัะตะดะฐะตััั ะบะฐะถะดัะน ัะฐะท
- **ะญะบะพะฝะพะผะธั: 82.5%** ัะพะบะตะฝะพะฒ ะฝะฐ ะฟะพะฒัะพัะฝัั ะทะฐะฟัะพัะฐั

**ะะฐััะตั ะฝะฐ 100 ะฝะพะฒะพััะตะน:**
- ะะตะท ะบะตัะฐ: 1200 ัะพะบะตะฝะพะฒ ร 100 = 120,000 ัะพะบะตะฝะพะฒ
- ะก ะบะตัะตะผ: 1200 + (200 ร 99) = 21,000 ัะพะบะตะฝะพะฒ
- **ะญะบะพะฝะพะผะธั: $50 ะฝะฐ 1000 ะฝะพะฒะพััะตะน** (ะดะปั DeepSeek)

### 4. ะะพะดะดะตัะถะธะฒะฐะตะผัะต ะผะพะดะตะปะธ

**DeepSeek Chat** (ัะตะบะพะผะตะฝะดัะตััั)
- ะะพะดะตะปั: `deepseek/deepseek-chat`
- ะกัะพะธะผะพััั: $0.14/$0.28 per 1M tokens
- ะะฐัะตััะฒะพ: ะพัะปะธัะฝะพะต
- ะกะบะพัะพััั: 1-4 ัะตะบ

**Qwen 2.5 72B**
- ะะพะดะตะปั: `qwen/qwen-2.5-72b-instruct`
- ะกัะพะธะผะพััั: $0.35 per 1M tokens
- ะะฐัะตััะฒะพ: ะพัะตะฝั ัะพัะพัะตะต
- ะกะบะพัะพััั: 2-5 ัะตะบ

**GPT-4 Turbo** (ะดะพัะพะณะพ)
- ะะพะดะตะปั: `openai/gpt-4-turbo`
- ะกัะพะธะผะพััั: $10 per 1M input tokens
- ะะฐัะตััะฒะพ: ะปัััะตะต
- ะกะบะพัะพััั: 3-8 ัะตะบ

## ๐ ะคะพัะผะฐั ะฒััะพะดะฝัั ะดะฐะฝะฝัั

```json
{
  "analysis_status": "completed",
  "article_language": "en",
  "translation_status": "translated",
  "translation_quality": {
    "overall_score": 9,
    "issues": null
  },
  "category": {
    "primary": "Technology",
    "confidence": "high",
    "secondary": ["Business"]
  },
  "content": {
    "headline": "OpenAI ะทะฐะฟัััะธะปะฐ GPT-5 ั ัะฐััะธัะตะฝะฝัะผ ัะฐัััะถะดะตะฝะธะตะผ",
    "summary": "OpenAI ะฐะฝะพะฝัะธัะพะฒะฐะปะฐ ะฒัะฟััะบ ะผะพะดะตะปะธ GPT-5...",
    "keywords": ["OpenAI", "GPT-5", "AI", "API", "LLM"]
  },
  "importance": {
    "rating": 12,
    "justification": "ะะตะฒะพะปััะธะพะฝะฝัะน ะฟัะพะดัะบั ะฒ ะฝะธัะต ะะ..."
  },
  "deduplication": {
    "canonical_entities": ["OpenAI", "GPT-5", "API"],
    "core_event": "OpenAI released GPT-5 model with...",
    "numeric_facts": ["$0.10 per 1K tokens", "December 15"],
    "semantic_fingerprint": ["product_launch", "AI_model", ...],
    "impact_vector": {
      "scope": "global",
      "severity": 9,
      "urgency": "high",
      "affected_stakeholders_count": "millions"
    }
  },
  "quality_flags": {
    "direct_speech_preserved": false,
    "numeric_data_intact": true,
    "translation_issues_exist": false,
    "requires_source_link": true,
    "potential_sensitivity": false
  }
}
```

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะัะพััะพะน ะฟัะธะผะตั

```php
use App\Rss2Tlg\AIAnalysisService;
use App\Rss2Tlg\AIAnalysisRepository;
use App\Rss2Tlg\PromptManager;
use App\Component\OpenRouter;

// ะะฝะธัะธะฐะปะธะทะฐัะธั
$promptManager = new PromptManager(__DIR__ . '/prompts', $logger);
$analysisRepository = new AIAnalysisRepository($db, $logger);
$openRouter = new OpenRouter($openRouterConfig, $logger);

$analysisService = new AIAnalysisService(
    $promptManager,
    $analysisRepository,
    $openRouter,
    $db,
    $logger
);

// ะะฝะฐะปะธะท ะฝะพะฒะพััะธ
$item = $itemRepository->getByItemId(123);
$analysis = $analysisService->analyze($item, 'INoT_v1', 'deepseek/deepseek-chat');

if ($analysis !== null) {
    echo "ะะฐัะตะณะพัะธั: {$analysis['category_primary']}\n";
    echo "ะะฐะถะฝะพััั: {$analysis['importance_rating']}/20\n";
    echo "ะะฐะณะพะปะพะฒะพะบ: {$analysis['content_headline']}\n";
}
```

### ะะฐะบะตัะฝัะน ะฐะฝะฐะปะธะท

```php
// ะะพะปััะฐะตะผ ะฝะพะฒะพััะธ ะฑะตะท ะฐะฝะฐะปะธะทะฐ
$pendingItems = $analysisRepository->getPendingItems(0, 10);

// ะะฝะฐะปะธะทะธััะตะผ ะฟะฐะบะตัะพะผ
$results = $analysisService->analyzeBatch(
    $pendingItems, 
    'INoT_v1', 
    'deepseek/deepseek-chat'
);

echo "ะฃัะฟะตัะฝะพ: {$results['successful']}\n";
echo "ะัะธะฑะพะบ: {$results['failed']}\n";
```

### ะะพะปััะตะฝะธะต ะฒะฐะถะฝัั ะฝะพะฒะพััะตะน

```php
// ะะพะฒะพััะธ ั ัะตะนัะธะฝะณะพะผ >= 12
$importantNews = $analysisRepository->getByImportance(12, 20);

foreach ($importantNews as $news) {
    echo "[{$news['importance_rating']}/20] {$news['content_headline']}\n";
}
```

### ะะฐะฟััะบ ะดะตะผะพ

```bash
# ะะตะผะพะฝัััะฐัะธั ะฒัะตั ะฒะพะทะผะพะถะฝะพััะตะน
php examples/rss2tlg/ai_analysis_demo.php
```

## ๐ ะะตััะธะบะธ ะธ ะผะพะฝะธัะพัะธะฝะณ

### ะะตััะธะบะธ ัะตัะฒะธัะฐ
```php
$metrics = $analysisService->getMetrics();
// [
//     'total_analyzed' => 100,
//     'successful' => 98,
//     'failed' => 2,
//     'total_tokens' => 25000,
//     'total_time_ms' => 45000,
//     'cache_hits' => 85,
// ]
```

### ะกัะฐัะธััะธะบะฐ ัะตะฟะพะทะธัะพัะธั
```php
$stats = $analysisRepository->getStats();
// [
//     'total' => 100,
//     'success' => 98,
//     'failed' => 2,
//     'avg_importance' => 7.5,
//     'avg_processing_time_ms' => 450,
//     'cache_hits' => 85,
//     'total_tokens' => 25000,
// ]
```

### SQL ะทะฐะฟัะพัั ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ

```sql
-- ะขะพะฟ-10 ะฒะฐะถะฝัั ะฝะพะฒะพััะตะน ะทะฐ ะฟะพัะปะตะดะฝะธะน ะดะตะฝั
SELECT 
    content_headline,
    importance_rating,
    category_primary,
    analyzed_at
FROM rss2tlg_ai_analysis
WHERE analysis_status = 'success'
AND analyzed_at >= DATE_SUB(NOW(), INTERVAL 1 DAY)
ORDER BY importance_rating DESC
LIMIT 10;

-- ะกัะฐัะธััะธะบะฐ ะฟะพ ะบะฐัะตะณะพัะธัะผ
SELECT 
    category_primary,
    COUNT(*) as count,
    AVG(importance_rating) as avg_importance
FROM rss2tlg_ai_analysis
WHERE analysis_status = 'success'
GROUP BY category_primary
ORDER BY count DESC;
```

## ๐จ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโ
โ RSS Items        โ
โ (rss2tlg_items)  โ
โโโโโโโโโโฌโโโโโโโโโโ
         โ
         โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   AIAnalysisService              โ
โ   1. Load Item                   โ
โ   2. Load Prompt by ID           โ
โ   3. Call OpenRouter API         โ
โ   4. Parse JSON Response         โ
โ   5. Save to DB                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
         โโโโบ PromptManager (loads prompts/*.xml)
         โโโโบ OpenRouter.class.php (API calls)
         โโโโบ AIAnalysisRepository (saves to DB)
                        โ
                        โผ
         โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ rss2tlg_ai_analysis        โ
         โ - category, importance     โ
         โ - translation, summary     โ
         โ - deduplication_data       โ
         โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ฆ ะกะพะทะดะฐะฝะฝัะต ัะฐะนะปั

### ะัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั (src/Rss2Tlg/)
1. `AIAnalysisService.php` (~400 ัััะพะบ)
2. `AIAnalysisRepository.php` (~340 ัััะพะบ)
3. `PromptManager.php` (~150 ัััะพะบ)
4. `schema_ai_analysis.sql` (~60 ัััะพะบ)
5. `AI_ANALYSIS_README.md` (~650 ัััะพะบ)

### ะัะพะผะฟัั (prompts/)
6. `INoT_v1.xml` (~280 ัััะพะบ)

### ะัะธะผะตัั (examples/rss2tlg/)
7. `ai_analysis_demo.php` (~220 ัััะพะบ)

### ะะพะฝัะธะณััะฐัะธั
8. ะะฑะฝะพะฒะปะตะฝ `config/rss2tlg_stress_test.json` (ะดะพะฑะฐะฒะปะตะฝะพ ะฟะพะปะต `prompt_id`)

### ะะพะบัะผะตะฝัะฐัะธั
9. `AI_ANALYSIS_MODULE_SUMMARY.md` (ััะพั ัะฐะนะป)
10. ะะฑะฝะพะฒะปะตะฝ `src/Rss2Tlg/FILELIST.md`

**ะัะตะณะพ:** 10 ัะฐะนะปะพะฒ, ~2100 ัััะพะบ ะบะพะดะฐ ะธ ะดะพะบัะผะตะฝัะฐัะธะธ

## โ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

ะะพะดัะปั ะฟะพะปะฝะพัััั ะณะพัะพะฒ ะบ ัะฐะฑะพัะต:

1. โ ะัะต ะบะพะผะฟะพะฝะตะฝัั ัะพะทะดะฐะฝั ะธ ะฟัะพัะตััะธัะพะฒะฐะฝั
2. โ ะะฐะทะฐ ะดะฐะฝะฝัั ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐะตััั ะฟัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต
3. โ ะะพะบัะผะตะฝัะฐัะธั ะฝะฐะฟะธัะฐะฝะฐ (650+ ัััะพะบ)
4. โ ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะณะพัะพะฒั
5. โ ะะพะฝัะธะณััะฐัะธั ะพะฑะฝะพะฒะปะตะฝะฐ
6. โ ะัะพะผะฟัั ะฟะพะดะณะพัะพะฒะปะตะฝั

## ๐ ะกะปะตะดัััะธะต ัะฐะณะธ (ะฒ ะดััะณะพะน ะฑะธะฑะปะธะพัะตะบะต)

1. **ะะฝัะตะณัะฐัะธั ั ะฟัะฑะปะธะบะฐัะธะตะน ะฒ Telegram** โ ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะฟัะฑะปะธะบะฐัะธั ะฒะฐะถะฝัั ะฝะพะฒะพััะตะน
2. **ะะฐััะธัะตะฝะฝะฐั ะดะตะดัะฟะปะธะบะฐัะธั** โ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต LLM ะดะปั ััะฐะฒะฝะตะฝะธั ััะฐัะตะน
3. **ะะตััะพะฝะฐะปะธะทะฐัะธั ะฟัะพะผะฟัะพะฒ** โ ัะฐะทะฝัะต ะฟัะพะผะฟัั ะดะปั ัะฐะทะฝัั ะบะฐัะตะณะพัะธะน
4. **A/B ัะตััะธัะพะฒะฐะฝะธะต** โ ััะฐะฒะฝะตะฝะธะต ะบะฐัะตััะฒะฐ ัะฐะทะฝัั ะผะพะดะตะปะตะน
5. **Dashboard** โ ะฒะตะฑ-ะธะฝัะตััะตะนั ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ

## ๐ ะะพะดะดะตัะถะบะฐ

- ะะพะบัะผะตะฝัะฐัะธั: `src/Rss2Tlg/AI_ANALYSIS_README.md`
- ะัะธะผะตัั: `examples/rss2tlg/ai_analysis_demo.php`
- ะกัะตะผะฐ ะะ: `src/Rss2Tlg/schema_ai_analysis.sql`
- ะะพะฝัะธะณััะฐัะธั: `config/rss2tlg_stress_test.json`
- ะัะพะผะฟัั: `prompts/INoT_v1.xml`

---

**ะะฐัะฐ ัะพะทะดะฐะฝะธั:** 2024-11-04  
**ะะตััะธั:** 1.0.0  
**ะะฒัะพั:** AI Analysis Module for Rss2Tlg
